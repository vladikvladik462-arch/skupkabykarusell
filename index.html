<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STALKER - –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å–∫—É–ø–∫–∏ –ú–ó</title>
    <style>
        :root {
            --bg-primary: #1a1a1a;
            --bg-secondary: #2a2a2a;
            --bg-tertiary: #353535;
            --border-color: #4a4a4a;
            --text-primary: #e0e0e0;
            --text-secondary: #b0b0b0;
            --text-accent: #ffffff;
            --accent-color: #6a6a6a;
            --success-color: #4CAF50;
            --bonus-color: #FF9800;
            --search-highlight: #ff4444;
            --sale-color: #2196F3;
            --edit-color: #FFA500;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            padding: 10px;
            overflow-x: hidden;
        }

        .app-container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 15px;
            min-height: 100vh;
            transition: all 0.3s ease;
        }

        .app-container.sidebar-open {
            margin-right: 50%;
            transform: translateX(-25%);
        }

        @media (max-width: 1024px) {
            .app-container {
                grid-template-columns: 1fr;
                grid-template-rows: auto 1fr;
            }
            
            .app-container.sidebar-open {
                margin-right: 80%;
                transform: translateX(-40%);
            }
        }

        .header {
            grid-column: 1 / -1;
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            border-radius: 10px;
            padding: 15px 20px;
            margin-bottom: 10px;
            text-align: center;
            position: relative;
        }

        .header h1 {
            color: var(--text-accent);
            font-size: 1.8em;
            margin-bottom: 10px;
        }

        .app-navigation {
            display: flex;
            justify-content: center;
            margin-bottom: 15px;
            gap: 10px;
        }

        .nav-btn {
            padding: 10px 20px;
            background: var(--bg-tertiary);
            border: 2px solid var(--border-color);
            color: var(--text-primary);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .nav-btn:hover {
            background: var(--accent-color);
            transform: translateY(-2px);
        }

        .nav-btn.active {
            background: var(--accent-color);
            color: var(--text-accent);
        }

        .search-container {
            max-width: 500px;
            margin: 0 auto;
        }

        .search-input {
            width: 100%;
            padding: 10px 15px;
            background: var(--bg-tertiary);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent-color);
        }

        .search-input::placeholder {
            color: var(--text-secondary);
        }

        .main-content {
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            border-radius: 10px;
            padding: 15px;
            display: flex;
            flex-direction: column;
        }

        .category-tabs {
            display: flex;
            background: var(--bg-tertiary);
            border-radius: 8px;
            margin-bottom: 15px;
            overflow: hidden;
        }

        .category-tab {
            flex: 1;
            padding: 12px;
            background: var(--bg-tertiary);
            border: none;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
            position: relative;
        }

        .category-tab:hover {
            background: var(--accent-color);
        }

        .category-tab.active {
            background: var(--accent-color);
            color: var(--text-accent);
            font-weight: bold;
        }

        .category-tab.highlighted::after {
            content: '';
            position: absolute;
            top: 3px;
            right: 3px;
            width: 8px;
            height: 8px;
            background: var(--search-highlight);
            border-radius: 50%;
        }

        .items-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 12px;
            flex: 1;
            overflow-y: auto;
            max-height: 70vh;
            padding: 5px;
        }

        .item-card {
            background: var(--bg-tertiary);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            padding: 12px;
            transition: all 0.3s ease;
            position: relative;
        }

        .item-card:hover {
            border-color: var(--accent-color);
        }

        .item-card.selected {
            border-color: var(--success-color);
            background: linear-gradient(135deg, var(--bg-tertiary) 0%, #2a3a2a 100%);
        }

        .item-card.search-match {
            border-color: var(--search-highlight);
            box-shadow: 0 0 0 1px var(--search-highlight);
        }

        .item-card.locked {
            opacity: 0.6;
            border-color: #ff4444 !important;
            background: linear-gradient(135deg, var(--bg-tertiary) 0%, #3a2a2a 100%);
        }

        .item-card.locked .quantity-input {
            background: #5a2a2a;
            color: #ff6b6b;
        }

        .lock-indicator {
            position: absolute;
            top: 5px;
            right: 5px;
            background: #ff4444;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7em;
        }

        .item-image {
            width: 100%;
            height: 80px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 5px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .item-image img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .item-name {
            font-size: 0.85em;
            margin-bottom: 8px;
            color: var(--text-accent);
            height: 36px;
            overflow: hidden;
            line-height: 1.3;
        }

        .item-price {
            color: var(--success-color);
            font-weight: bold;
            font-size: 1em;
            margin-bottom: 10px;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 5px;
        }

        .quantity-btn {
            width: 28px;
            height: 28px;
            border: 1px solid var(--border-color);
            background: var(--bg-secondary);
            color: var(--text-primary);
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }

        .quantity-btn:hover {
            background: var(--accent-color);
            transform: scale(1.1);
        }

        .quantity-input {
            width: 50px;
            text-align: center;
            border: 1px solid var(--border-color);
            background: var(--bg-primary);
            color: var(--text-accent);
            border-radius: 4px;
            padding: 4px;
            font-size: 0.9em;
            font-weight: bold;
        }

        .sidebar {
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            border-radius: 10px;
            padding: 15px;
            display: flex;
            flex-direction: column;
        }

        .control-btn.sale {
            background: #2a3a5a;
            border-color: #3a5a7a;
            color: var(--sale-color);
        }
        
        .control-btn.sale:hover {
            background: #3a5a7a;
        }

        .sale-amount {
            font-size: 1.5em;
            color: var(--sale-color);
            font-weight: bold;
            margin: 5px 0;
        }

        .total-section {
            background: var(--bg-tertiary);
            border: 2px solid var(--border-color);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            text-align: center;
        }

        .total-label {
            color: var(--text-secondary);
            font-size: 0.95em;
            margin-bottom: 8px;
        }

        .total-amount {
            font-size: 2.2em;
            color: var(--success-color);
            font-weight: bold;
            margin: 8px 0;
        }

        .bonus-amount {
            font-size: 1.5em;
            color: var(--bonus-color);
            font-weight: bold;
            margin: 5px 0;
        }

        .selected-count {
            color: var(--text-secondary);
            font-size: 0.85em;
        }

        .control-buttons {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 15px;
        }

        .control-btn {
            padding: 12px;
            border: 2px solid var(--border-color);
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.95em;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .control-btn:hover {
            background: var(--accent-color);
            transform: translateY(-2px);
        }

        .control-btn.reset {
            background: #5a2a2a;
            border-color: #7a3a3a;
        }

        .control-btn.reset:hover {
            background: #7a3a3a;
        }

        .control-btn.bonus {
            background: #5a4a2a;
            border-color: #7a6a3a;
            color: var(--bonus-color);
        }

        .control-btn.bonus:hover {
            background: #7a6a3a;
        }

        .control-btn.download {
            background: #2a4a5a;
            border-color: #3a6a7a;
            color: #a0d0ff;
        }

        .control-btn.download:hover {
            background: #3a6a7a;
        }

        .item-details {
            background: var(--bg-tertiary);
            border: 2px solid var(--border-color);
            border-radius: 10px;
            padding: 12px;
            margin-top: auto;
        }

        .detail-title {
            color: var(--text-secondary);
            font-size: 0.9em;
            margin-bottom: 8px;
        }

        .detail-image {
            width: 100%;
            height: 120px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 5px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .detail-image img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .detail-name {
            color: var(--text-accent);
            font-size: 1em;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .detail-price {
            color: var(--text-secondary);
            font-size: 0.9em;
            margin-bottom: 5px;
        }

        .detail-total {
            color: var(--success-color);
            font-size: 0.95em;
            font-weight: bold;
        }

        .items-sidebar {
            position: fixed;
            top: 0;
            right: -50%;
            width: 50%;
            height: 100vh;
            background: var(--bg-secondary);
            border-left: 2px solid var(--border-color);
            z-index: 1000;
            transition: right 0.3s ease;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .items-sidebar.open {
            right: 0;
        }

        .sidebar-header {
            background: var(--bg-tertiary);
            border-bottom: 2px solid var(--border-color);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .sidebar-header h2 {
            color: var(--text-accent);
            font-size: 1.4em;
        }

        .close-sidebar {
            background: none;
            border: none;
            color: var(--text-accent);
            font-size: 1.5em;
            cursor: pointer;
            padding: 5px;
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .close-sidebar:hover {
            background: var(--accent-color);
        }

        .sidebar-content {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
        }

        .selected-items-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .selected-item {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .selected-item:hover {
            border-color: var(--accent-color);
        }

        .selected-item-info {
            display: flex;
            flex-direction: column;
            flex: 1;
        }

        .selected-item-name {
            font-size: 0.9em;
            color: var(--text-accent);
            margin-bottom: 4px;
            font-weight: bold;
        }

        .selected-item-price {
            font-size: 0.8em;
            color: var(--text-secondary);
        }

        .selected-item-quantity {
            display: flex;
            align-items: center;
            gap: 8px;
            margin: 0 10px;
        }

        .selected-item-qty {
            font-size: 1em;
            color: var(--success-color);
            font-weight: bold;
            min-width: 30px;
            text-align: center;
        }

        .selected-item-total {
            font-size: 0.9em;
            color: var(--success-color);
            font-weight: bold;
            min-width: 80px;
            text-align: right;
        }

        .remove-item-btn {
            background: #5a2a2a;
            border: 1px solid #7a3a3a;
            color: #ff6b6b;
            border-radius: 4px;
            width: 24px;
            height: 24px;
            cursor: pointer;
            font-size: 0.8em;
            margin-left: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .empty-selected {
            text-align: center;
            color: var(--text-secondary);
            font-style: italic;
            padding: 40px 20px;
            font-size: 1em;
        }

        .toggle-sidebar-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--bg-tertiary);
            border: 2px solid var(--border-color);
            color: var(--text-accent);
            border-radius: 8px;
            padding: 10px 15px;
            cursor: pointer;
            font-weight: bold;
            z-index: 999;
            transition: all 0.3s ease;
        }

        .toggle-sidebar-btn:hover {
            background: var(--accent-color);
            transform: translateY(-2px);
        }

        .special-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            border-radius: 10px;
            padding: 30px;
            z-index: 1000;
            max-width: 400px;
            width: 90%;
            text-align: center;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }

        .special-message h2 {
            color: var(--text-accent);
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .special-message p {
            color: var(--text-primary);
            margin-bottom: 10px;
            line-height: 1.5;
        }

        .special-message .ps {
            color: var(--text-secondary);
            font-size: 0.8em;
            margin-top: 15px;
            font-style: italic;
        }

        .close-message {
            margin-top: 20px;
            padding: 8px 20px;
            background: var(--accent-color);
            border: none;
            border-radius: 5px;
            color: var(--text-accent);
            cursor: pointer;
            font-weight: bold;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            z-index: 999;
        }

        .app-page {
            display: none;
            grid-column: 1 / -1;
        }

        .app-page.active {
            display: block;
        }

        .credit-section, .storage-section {
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .credit-form, .storage-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
            padding: 20px;
            background: var(--bg-tertiary);
            border-radius: 8px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            color: var(--text-secondary);
            margin-bottom: 5px;
            font-size: 0.9em;
        }

        .form-input {
            padding: 10px;
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 5px;
            color: var(--text-primary);
        }

        .calculate-btn {
            padding: 12px;
            background: var(--success-color);
            border: none;
            border-radius: 5px;
            color: white;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .calculate-btn:hover {
            background: #45a049;
            transform: translateY(-2px);
        }

        .edit-btn {
            padding: 12px;
            background: var(--edit-color);
            border: none;
            border-radius: 5px;
            color: white;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .edit-btn:hover {
            background: #e59400;
            transform: translateY(-2px);
        }

        .credit-result, .storage-result {
            background: var(--bg-tertiary);
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            text-align: center;
        }

        .credit-total {
            font-size: 2em;
            color: var(--success-color);
            font-weight: bold;
            margin: 10px 0;
        }

        .loans-table, .storage-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .loans-table th, .storage-table th {
            background: var(--bg-tertiary);
            padding: 12px;
            text-align: left;
            color: var(--text-accent);
            border-bottom: 2px solid var(--border-color);
        }

        .loans-table td, .storage-table td {
            padding: 12px;
            border-bottom: 1px solid var(--border-color);
            color: var(--text-primary);
        }

        .loans-table tr:hover, .storage-table tr:hover {
            background: var(--bg-tertiary);
        }

        .delete-btn {
            padding: 6px 12px;
            background: #d32f2f;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8em;
            margin-right: 5px;
        }

        .delete-btn:hover {
            background: #b71c1c;
        }

        .edit-storage-btn {
            padding: 6px 12px;
            background: var(--edit-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8em;
            margin-right: 5px;
        }

        .edit-storage-btn:hover {
            background: #e59400;
        }

        .storage-grid-container {
            margin: 10px 0;
            min-height: 10px;
            overflow: auto;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            padding: 15px;
            background: var(--bg-tertiary);
        }

        .storage-grid {
            display: grid;
            grid-template-columns: repeat(9, 1fr);
            gap: 3px;
            background: var(--border-color);
            padding: 3px;
            border-radius: 5px;
            width: 100%;
            margin: 0 auto;
        }

        .storage-cell {
            aspect-ratio: 1;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            width: 100%;
            min-height: 25px;
            font-size: 0.7em;
        }

        .storage-cell:hover {
            background: var(--accent-color);
        }

        .storage-cell.occupied {
            background: var(--success-color);
        }

        .storage-cell.selected {
            background: var(--bonus-color);
        }

        .cell-info {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3em;
            color: var(--text-accent);
            text-align: center;
            word-break: break-all;
            padding: 1px;
        }

        .storage-controls {
            display: flex;
            gap: 10px;
            margin: 15px 0;
        }

        .storage-control-btn {
            padding: 10px 20px;
            border: 2px solid var(--border-color);
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .storage-control-btn:hover {
            background: var(--accent-color);
        }

        .storage-summary {
            background: var(--bg-tertiary);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .edit-form {
            background: var(--bg-tertiary);
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            border: 2px solid var(--edit-color);
        }

        .safe-selection {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }

        .safe-btn {
            padding: 12px;
            background: var(--bg-tertiary);
            border: 2px solid var(--border-color);
            color: var(--text-primary);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .safe-btn:hover {
            background: var(--accent-color);
        }

        .safe-btn.active {
            background: var(--accent-color);
            color: var(--text-accent);
            border-color: var(--success-color);
        }

        .edit-controls {
            background: var(--bg-tertiary);
            border: 2px solid var(--edit-color);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            display: none;
        }

        .edit-controls.active {
            display: block;
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-tertiary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--accent-color);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-secondary);
        }
        
        @media (max-width: 768px) {
            .app-container {
                padding: 5px;
                gap: 10px;
            }

            .header h1 {
                font-size: 1.5em;
            }

            .items-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 8px;
            }

            .category-tabs {
                flex-direction: column;
            }

            .total-amount {
                font-size: 1.8em;
            }
            
            .quantity-btn {
                width: 26px;
                height: 26px;
            }
            
            .quantity-input {
                width: 45px;
                font-size: 0.85em;
            }

            .items-sidebar {
                width: 80%;
                right: -80%;
            }

            .app-container.sidebar-open {
                margin-right: 80%;
                transform: translateX(-40%);
            }

            .app-navigation {
                flex-direction: column;
                align-items: center;
            }

            .storage-grid {
                grid-template-columns: repeat(9, 1fr);
            }

            .credit-form, .storage-form {
                grid-template-columns: 1fr;
            }

            .storage-cell {
                min-height: 20px;
                font-size: 0.6em;
            }

            .safe-selection {
                grid-template-columns: 1fr;
            }

            .storage-grid-container {
                min-height: 10px;
            }
        }

        @media (max-width: 480px) {
            .items-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .item-card {
                padding: 8px;
            }

            .item-image {
                height: 70px;
            }
            
            .quantity-btn {
                width: 24px;
                height: 24px;
                font-size: 0.8em;
            }
            
            .quantity-input {
                width: 40px;
                font-size: 0.8em;
            }

            .items-sidebar {
                width: 90%;
                right: -90%;
            }

            .app-container.sidebar-open {
                margin-right: 90%;
                transform: translateX(-45%);
            }

            .selected-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }

            .selected-item-quantity {
                margin: 0;
                align-self: flex-end;
            }

            .storage-grid {
                grid-template-columns: repeat(9, 1fr);
            }

            .storage-cell {
                min-height: 18px;
                font-size: 0.5em;
            }

            .storage-grid-container {
                min-height: 10px;
            }
        }
    </style>
</head>
<body>
    <button class="toggle-sidebar-btn" onclick="toggleItemsSidebar()">üì¶ –°–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤</button>

    <div class="app-container" id="appContainer">
        <header class="header">
            <h1>üéØ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å–∫—É–ø–∫–∏ –ú–ó</h1>
            <div class="app-navigation">
                <button class="nav-btn active" data-page="calculator">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</button>
                <button class="nav-btn" data-page="credit">–ö—Ä–µ–¥–∏—Ç</button>
                <button class="nav-btn" data-page="storage">–•—Ä–∞–Ω–∏–ª–∏—â–µ</button>
            </div>
            <div class="search-container">
                <input type="text" id="searchInput" class="search-input" placeholder="–ü–æ–∏—Å–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤...">
            </div>
        </header>

        <div id="calculatorPage" class="app-page active">
            <main class="main-content">
                <div class="category-tabs">
                    <button class="category-tab active" data-category="scrap">–•–ª–∞–º</button>
                    <button class="category-tab" data-category="garbage">–ú—É—Å–æ—Ä</button>
                    <button class="category-tab" data-category="medicine">–ò–Ω–≥—Ä–∏–¥–∏–µ–Ω—Ç—ã</button>
                    <button class="category-tab" data-category="mutants">–ú—É—Ç–∞–Ω—Ç—ã</button>
                    <button class="category-tab" data-category="documents">–î–æ–∫—É–º–µ–Ω—Ç—ã</button>
                    <button class="category-tab" data-category="artifacts">–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã</button>
                </div>

                <div id="itemsContainer" class="items-grid">
                </div>
            </main>

            <aside class="sidebar">
                <div class="total-section">
                    <div class="total-label">–û–ë–©–ê–Ø –°–£–ú–ú–ê</div>
                    <div class="total-amount" id="totalSum">0</div>
                    <div class="bonus-amount" id="bonusSum" style="display: none;">+15%: 0</div>
                    <div class="sale-amount" id="saleSum" style="display: none;">+30%: 0</div>
                    <div class="selected-count" id="selectedCount">–í—ã–±—Ä–∞–Ω–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤: 0</div>
                </div>

                <div class="control-buttons">
                    <button class="control-btn reset" onclick="resetAll()">üîÑ –°–±—Ä–æ—Å–∏—Ç—å –≤—Å—ë</button>
                    <button class="control-btn bonus" onclick="addBonus()">üéÅ –î–æ–±–∞–≤–∏—Ç—å 15%</button>
                    <button class="control-btn sale" onclick="addSale()">üí∞ –ü—Ä–æ–¥–∞–∂–∞</button>
                    <button class="control-btn download" onclick="downloadList()">üì• –°–∫–∞—á–∞—Ç—å —Å–ø–∏—Å–æ–∫</button>
                </div>

                <div class="item-details">
                    <div class="detail-title">–ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –ü–†–ï–î–ú–ï–¢–ï</div>
                    <div class="detail-image" id="detailImage">
                        <div style="color: var(--text-secondary); text-align: center; font-size: 0.9em;">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥–º–µ—Ç</div>
                    </div>
                    <div class="detail-name" id="detailName">-</div>
                    <div class="detail-price" id="detailPrice">–¶–µ–Ω–∞: -</div>
                    <div class="detail-total" id="detailTotal">–°—É–º–º–∞: -</div>
                </div>
            </aside>
        </div>

        <div id="creditPage" class="app-page">
            <div class="credit-section">
                <h2>üí∞ –°–∏—Å—Ç–µ–º–∞ –∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–∏—è</h2>
                
                <div class="credit-form">
                    <div class="form-group">
                        <label>–ò–º—è –∏–≥—Ä–æ–∫–∞:</label>
                        <input type="text" id="creditPlayerName" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è">
                    </div>
                    <div class="form-group">
                        <label>UID –∏–≥—Ä–æ–∫–∞:</label>
                        <input type="text" id="creditUID" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ UID">
                    </div>
                    <div class="form-group">
                        <label>–°—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞:</label>
                        <input type="number" id="creditAmount" class="form-input" placeholder="–°—É–º–º–∞ –≤ —Ä—É–±–ª—è—Ö" min="1">
                    </div>
                    <div class="form-group">
                        <label>–°—Ä–æ–∫ (–¥–Ω–∏):</label>
                        <input type="number" id="creditDays" class="form-input" placeholder="1-30 –¥–Ω–µ–π" min="1" max="30">
                    </div>
                    <button class="calculate-btn" onclick="calculateCredit()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –∫—Ä–µ–¥–∏—Ç</button>
                </div>

                <div class="credit-result" id="creditResult" style="display: none;">
                    <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—Å—á–µ—Ç–∞:</h3>
                    <div class="credit-total" id="creditTotal">0 —Ä—É–±.</div>
                    <div id="creditBreakdown"></div>
                    <button class="calculate-btn" onclick="createLoan()" style="margin-top: 15px;">–û—Ñ–æ—Ä–º–∏—Ç—å –∫—Ä–µ–¥–∏—Ç</button>
                </div>
            </div>

            <div class="credit-section">
                <h2>üìä –¢–µ–∫—É—â–∏–µ –∫—Ä–µ–¥–∏—Ç—ã</h2>
                <table class="loans-table">
                    <thead>
                        <tr>
                            <th>–ò–º—è</th>
                            <th>UID</th>
                            <th>–°—É–º–º–∞</th>
                            <th>–°—Ä–æ–∫</th>
                            <th>–î–∞—Ç–∞ –≤–∑—è—Ç–∏—è</th>
                            <th>–¢–µ–∫—É—â–∏–π –¥–æ–ª–≥</th>
                            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                        </tr>
                    </thead>
                    <tbody id="loansTableBody">
                    </tbody>
                </table>
            </div>
        </div>

        <div id="storagePage" class="app-page">
            <div class="storage-section">
                <h2>üè¶ –ê—Ä–µ–Ω–¥–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞</h2>
                
                <div class="safe-selection">
                    <button class="safe-btn active" data-safe="1">–°–µ–π—Ñ 1</button>
                    <button class="safe-btn" data-safe="2">–°–µ–π—Ñ 2</button>
                    <button class="safe-btn" data-safe="3">–°–µ–π—Ñ 3</button>
                </div>
                
                <div class="storage-form">
                    <div class="form-group">
                        <label>–ò–º—è –∏–≥—Ä–æ–∫–∞:</label>
                        <input type="text" id="storagePlayerName" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è">
                    </div>
                    <div class="form-group">
                        <label>UID –∏–≥—Ä–æ–∫–∞:</label>
                        <input type="text" id="storageUID" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ UID">
                    </div>
                    <div class="form-group">
                        <label>–°—Ä–æ–∫ (–¥–Ω–∏):</label>
                        <input type="number" id="storageDays" class="form-input" placeholder="1-30 –¥–Ω–µ–π" min="1" max="30">
                    </div>
                    <div class="form-group">
                        <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —è—á–µ–µ–∫:</label>
                        <input type="number" id="storageCellsCount" class="form-input" value="1" min="1" max="162" readonly>
                    </div>
                    <button class="calculate-btn" onclick="calculateStorage()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å</button>
                </div>

                <div class="storage-controls">
                    <button class="storage-control-btn" onclick="selectAllCells()">–í—ã–±—Ä–∞—Ç—å –≤—Å–µ</button>
                    <button class="storage-control-btn" onclick="clearSelection()">–û—á–∏—Å—Ç–∏—Ç—å –≤—ã–±–æ—Ä</button>
                </div>

                <div class="storage-grid-container">
                    <h3>–í—ã–±–æ—Ä —è—á–µ–µ–∫ (9√ó18 = 162 —è—á–µ–π–∫–∏) - <span id="currentSafeName">–°–µ–π—Ñ 1</span></h3>
                    <div class="storage-grid" id="storageGrid">
                    </div>
                </div>

                <div class="storage-summary" id="storageResult" style="display: none;">
                    <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—Å—á–µ—Ç–∞:</h3>
                    <div class="credit-total" id="storageTotal">0 —Ä—É–±.</div>
                    <div id="storageBreakdown"></div>
                    <button class="calculate-btn" onclick="createStorageRental()" style="margin-top: 15px;">–û—Ñ–æ—Ä–º–∏—Ç—å –∞—Ä–µ–Ω–¥—É</button>
                </div>
            </div>

            <div class="storage-section">
                <h2>üìã –¢–µ–∫—É—â–∏–µ –∞—Ä–µ–Ω–¥—ã</h2>
                <table class="storage-table">
                    <thead>
                        <tr>
                            <th>–ò–º—è</th>
                            <th>UID</th>
                            <th>–°—Ä–æ–∫</th>
                            <th>–Ø—á–µ–π–∫–∏</th>
                            <th>–°—Ç–æ–∏–º–æ—Å—Ç—å</th>
                            <th>–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞</th>
                            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                        </tr>
                    </thead>
                    <tbody id="storageTableBody">
                    </tbody>
                </table>
            </div>

            <div class="storage-section" id="editStorageSection" style="display: none;">
                <h2>‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä–µ–Ω–¥—ã</h2>
                
                <div class="edit-form" id="editStorageForm">
                    <div class="storage-form">
                        <div class="form-group">
                            <label>–ò–º—è –∏–≥—Ä–æ–∫–∞:</label>
                            <input type="text" id="editStoragePlayerName" class="form-input">
                        </div>
                        <div class="form-group">
                            <label>UID –∏–≥—Ä–æ–∫–∞:</label>
                            <input type="text" id="editStorageUID" class="form-input">
                        </div>
                        <div class="form-group">
                            <label>–°—Ä–æ–∫ (–¥–Ω–∏):</label>
                            <input type="number" id="editStorageDays" class="form-input" min="1" max="30">
                        </div>
                        <div class="form-group">
                            <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —è—á–µ–µ–∫:</label>
                            <input type="number" id="editStorageCellsCount" class="form-input" value="1" min="1" max="162" readonly>
                        </div>
                    </div>

                    <div class="storage-controls">
                        <button class="storage-control-btn" onclick="selectAllCellsEdit()">–í—ã–±—Ä–∞—Ç—å –≤—Å–µ</button>
                        <button class="storage-control-btn" onclick="clearSelectionEdit()">–û—á–∏—Å—Ç–∏—Ç—å –≤—ã–±–æ—Ä</button>
                    </div>

                    <div class="storage-grid-container">
                        <h3>–í—ã–±–æ—Ä —è—á–µ–µ–∫ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
                        <div class="storage-grid" id="editStorageGrid">
                        </div>
                    </div>

                    <div class="storage-controls">
                        <button class="calculate-btn" onclick="updateStorageRental()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                        <button class="storage-control-btn" onclick="cancelEditStorage()">–û—Ç–º–µ–Ω–∞</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="items-sidebar" id="itemsSidebar">
        <div class="sidebar-header">
            <h2>üì¶ –í–´–ë–†–ê–ù–ù–´–ï –ü–†–ï–î–ú–ï–¢–´</h2>
            <button class="close-sidebar" onclick="toggleItemsSidebar()">√ó</button>
        </div>
        <div class="sidebar-content">
            <div class="selected-items-list" id="selectedItemsList">
                <div class="empty-selected">–ù–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤</div>
            </div>
        </div>
    </div>

    <div class="edit-controls">
        <div style="text-align: center; margin-bottom: 10px;">
            <strong style="color: var(--edit-color);">‚öôÔ∏è –†–ï–ñ–ò–ú –†–ï–î–ê–ö–¢–ò–†–û–í–ê–ù–ò–Ø</strong>
        </div>
        <div style="display: flex; gap: 10px; justify-content: center;">
            <button class="control-btn" onclick="toggleEditMode()" style="background: #5a2a2a; border-color: #7a3a3a;">‚ùå –í—ã–π—Ç–∏ –∏–∑ —Ä–µ–∂–∏–º–∞</button>
            <button class="control-btn" onclick="resetAllPrices()" style="background: #5a4a2a; border-color: #7a6a3a;">üóëÔ∏è –°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ —Ü–µ–Ω—ã</button>
            <button class="control-btn" onclick="unlockAllItems()" style="background: #2a5a2a; border-color: #3a7a3a;">üîì –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ</button>
        </div>
        <div style="text-align: center; margin-top: 10px; font-size: 0.8em; color: var(--text-secondary);">
            –î–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ —Ä–µ–∂–∏–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –µ—â–µ —Ä–∞–∑ –≤ –ø–æ–∏—Å–∫–µ
        </div>
    </div>

    <script>
        const itemsDatabase = {
            scrap: [
                {name: "–ü—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å", price: 600.0, image: "images/scrap/fuse.png"},
                {name: "–ö–∞–Ω–∏—Ñ–æ–ª—å", price: 348.0, image: "images/scrap/rosin.jpg"},
                {name: "–¢–µ–∫—Å—Ç–æ–ª–∏—Ç", price: 372.0, image: "images/scrap/textolit.jpg"},
                {name: "–°—Ç–∞—Ä–∞—è –±–∞—Ç–∞—Ä–µ–π–∫–∞", price: 250.0, image: "images/scrap/battery_old.jpg"},
                {name: "–ù–µ–∏—Å–ø—Ä–∞–≤–Ω—ã–π –¥–æ–∑–∏–º–µ—Ç—Ä", price: 300.0, image: "images/scrap/dosimeter.jpg"},
                {name: "–ø—Ä–æ–≤–æ–¥–∫–∞", price: 2300.0, image: "images/scrap/wiring.jpg"},
                {name: "–¢—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä—ã", price: 900.0, image: "images/scrap/transistors.jpg"},
                {name: "–ö–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä—ã", price: 490.0, image: "images/scrap/capacitors.jpg"},
                {name: "–†–µ–∑–∏—Å—Ç–æ—Ä—ã", price: 800.0, image: "images/scrap/resistors.jpg"},
                {name: "–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≥—Ä—É–±–æ–π —Ä–∞–±–æ—Ç—ã", price: 700.0, image: "images/scrap/tools.jpg"},
                {name: "–ö–æ–º–ø–ª–µ–∫—Ç —Ä–∞—Å—Ö–æ–¥–Ω–∏–∫–æ–≤", price: 800.0, image: "images/scrap/consumables.jpg"},
                {name: "–ê–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã–π –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä", price: 366.0, image: "images/scrap/battery_car.jpg"},
                {name: "–ö–∞—Ç—É—à–∫–∞ —Å –º–µ–¥—å—é", price: 1800.0, image: "images/scrap/copper_coil.jpg"},
                {name: "–ö–ª–µ–π —É–ª—å—Ç—Ä–∞", price: 138.0, image: "images/scrap/glue_ultra.jpg"},
                {name: "–ö–ª–µ–π –º–æ–º–µ–Ω—Ç", price: 220.0, image: "images/scrap/glue_moment.jpg"},
                {name: "–ü–æ–ª–∏—É—Ä–µ—Ç–∞–Ω. –∫–ª–µ–π", price: 198.0, image: "images/scrap/glue_polyurethane.jpg"},
                {name: "–ø—Ä–æ—á–Ω–∞—è –Ω–∏—Ç—å", price: 87.0, image: "images/scrap/thread.jpg"},
				{name: "–ù–µ–π–ª–æ–Ω–æ–≤–∞—è –Ω–∏—Ç—å", price: 100.0, image: "images/scrap/nylon_thread.jpg"},
                {name: "–°–≤–µ—Ä—Ç–æ–∫ –∫–æ–∂–∏", price: 144.0, image: "images/scrap/leather_bundle.jpg"},
                {name: "–ü—Ä–æ—Ä–µ–∑–∏–Ω–µ–Ω–Ω–∞—è —Ç–∫–∞–Ω—å", price: 315.0, image: "images/scrap/rubber_fabric.jpg"},
                {name: "–¢–∫–∞–Ω—å –∞—Ä–º–æ—Ç–µ–∫—Å", price: 199.0, image: "images/scrap/fabric_armotex.jpg"},
                {name: "–ê—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç–∫–∞–Ω—å", price: 177.0, image: "images/scrap/reinforced_fabric.jpg"},
                {name: "–¢–∫–∞–Ω—å –∏–∑–æ—Ñ–ª–µ–∫—Å", price: 134.0, image: "images/scrap/fabric_isoflex.jpg"},
                {name: "–¢–∫–∞–Ω—å –≥–∏–¥—Ä–∞ 225", price: 112.0, image: "images/scrap/fabric_hydra.jpg"},
                {name: "–¢–∫–∞–Ω—å –∏–∑ –±—Ä–µ–∑–µ–Ω—Ç–∞", price: 208.0, image: "images/scrap/fabric_tarpaulin.jpg"},
                {name: "–ö–ª–µ–π–∫–∞—è –ª–µ–Ω—Ç–∞ - –≥–µ—Ä–º–µ—Ç–∏–∫", price: 80.0, image: "images/scrap/tape_sealant.jpg"},
                {name: "–¢–µ—Ä–º–æ—Å—Ç–æ–π–∫–∞—è –∫–ª–µ–π–∫–∞—è –ª–µ–Ω—Ç–∞", price: 80.0, image: "images/scrap/tape_heat.jpg"},
                {name: "–ö–ª–µ–µ–≤–∞—è –ª–µ–Ω—Ç–∞", price: 98.0, image: "images/scrap/tape_glue.jpg"},
                {name: "–ê—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–ª–µ–π–∫–∞—è –ª–µ–Ω—Ç–∞", price: 132.0, image: "images/scrap/tape_reinforced.jpg"},
                {name: "–û—Å–æ–±–æ–ø—Ä–æ—á–Ω–∞—è –∫–ª–µ–π–∫–∞—è –ª–µ–Ω—Ç–∞", price: 140.0, image: "images/scrap/tape_strong.jpg"},
                {name: "–î–∏—ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∞—è –ª–µ–Ω—Ç–∞", price: 80.0, image: "images/scrap/tape_dielectric.jpg"},
				{name: "–ò–∑–æ–ª–µ–Ω—Ç–∞", price: 224.0, image: "images/scrap/tape.jpg"},
                {name: "–†–∞–∑–≤–æ–¥–Ω–æ–π –∫–ª—é—á", price: 200.0, image: "images/scrap/wrench.png"},
				{name: "–ì–∞–µ—á–Ω—ã–π –∫–ª—é—á", price: 125.0, image: "images/scrap/key.png"},
                {name: "–ö–ª–µ—â–∏", price: 200.0, image: "images/scrap/pliers.jpg"},
                {name: "–ú–æ–ª–æ—Ç–æ–∫", price: 125.0, image: "images/scrap/hammer.jpg"},
                {name: "–û—Ç–≤–µ—Ä—Ç–∫–∞", price: 125.0, image: "images/scrap/screwdriver.jpg"},
                {name: "–®–≤–µ–π—Ü–∞—Ä—Å–∫–∏–π –Ω–æ–∂", price: 175.0, image: "images/scrap/swiss_knife.png"},
                {name: "—Å–∫–∞–ª—å–ø–µ–ª—å", price: 200.0, image: "images/scrap/skalpel.jpg"},
                {name: "–º—É–ª—å—Ç–∏—Ç—É–ª", price: 270.0, image: "images/scrap/multitool.jpg"},
                {name: "–û–≥–Ω–µ—É–ø–æ—Ä–Ω–æ–µ –ø–æ–ª–æ—Ç–Ω–æ", price: 180.0, image: "images/scrap/fireproof_cloth.jpg"},
                {name: "–ó–∞–≤–æ–¥—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏", price: 900.0, image: "images/scrap/facrory_parts.jpg"},
                {name: "–°—Ç–∞—Ä–∞—è —ç–∫–∏–ø–∏—Ä–æ–≤–∫–∞", price: 400.0, image: "images/scrap/old_equipment.jpg"},
                {name: "–ú–æ—Ç–∫–∏ –ø–∞—Ä–∞–∫–æ—Ä–¥–∞", price: 665.0, image: "images/scrap/paracord.jpg"},
                {name: "–°—Ç–∞—Ä—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã", price: 380.0, image: "images/scrap/old_tools.jpg"},
                {name: "–ó–∞—â–∏—Ç–∞ 1 –∫–ª–∞—Å—Å–∞", price: 640.0, image: "images/scrap/protection_1.jpg"},
                {name: "–ë–æ–∫–æ–≤–∞—è –ø–æ–ª–∏–º–µ—Ä–Ω–∞—è –±—Ä–æ–Ω–∏–ø–ª–∏—Ç–∞", price: 780.0, image: "images/scrap/armor_side_polymer.jpg"},
                {name: "–ø–æ–ª–∏–º–µ—Ä–Ω–∞—è –±—Ä–æ–Ω–∏–ø–ª–∏—Ç–∞", price: 780.0, image: "images/scrap/armor_polymer.jpg"},
                {name: "–ë—Ä–æ–Ω–∏–ø–ª–∏—Ç–∞ 3 –∫–ª–∞—Å—Å–∞", price: 1200.0, image: "images/scrap/armor_3.jpg"},
                {name: "–ë–æ–∫–æ–≤–∞—è –±—Ä–æ–Ω–∏–ø–ª–∏—Ç–∞ 3 –∫–ª–∞—Å—Å–∞", price: 1100.0, image: "images/scrap/armor_side_3.jpg"},
                {name: "–ü–ª–∞—Ç—ã", price: 4800.0, image: "images/scrap/boards.jpg"},
                {name: "–≠–ª–µ–∫—Ç—Ä–æ–º–∞–≥–Ω–∏—Ç—ã", price: 3600.0, image: "images/scrap/elecrtomagnets.jpg"},
				{name: "–õ–µ–≥–∫–∏–π –Ω–∞–±–æ—Ä —É–∫—Ä–µ–ø–ª–µ–Ω–∏—è –∫–æ—Å—Ç—é–º–∞", price: 1150.0, image: "images/scrap/suit_reinforcement_kit.png"},
				{name: "–õ–µ–≥–∫–∏–π –Ω–∞–±–æ—Ä –ø–æ–¥—Å—É–º–∫–æ–≤", price: 1200.0, image: "images/scrap/pouch_kit.png"},
				{name: "–õ–µ–≥–∫–∏–π –Ω–∞–±–æ—Ä –°–ò–ó", price: 1400.0, image: "images/scrap/ppe_kit.png"}
            ],
            mutants: [
                {name: "–ö–æ–ø—ã—Ç–æ –∫–∞–±–∞–Ω–∞", price: 134.0, image: "images/mutants/boar_hoof.png"},
                {name: "–ö–ª—ã–∫–∏ –∫–∞–±–∞–Ω–∞", price: 179.0, image: "images/mutants/boar_tusks.png"},
                {name: "–®–∫—É—Ä–∞ –∫–∞–±–∞–Ω–∞", price: 72.0, image: "images/mutants/boar_skin.png"},
                {name: "–ù–æ—Å —Å–ª–µ–ø–æ–≥–æ –ø—Å–∞", price: 154.0, image: "images/mutants/blind_dog_nose.png"},
                {name: "–•–≤–æ—Å—Ç —Å–ª–µ–ø–æ–≥–æ –ø—Å–∞", price: 99.0, image: "images/mutants/blind_dog_tail.png"},
                {name: "–®–∫—É—Ä–∞ —Å–ª–µ–ø–æ–≥–æ –ø—Å–∞", price: 70.0, image: "images/mutants/blind_dog_skin.png"},
                {name: "–ß–µ–ª—é—Å—Ç—å –ø—Å–µ–≤–¥–æ—Å–æ–±–∞–∫–∏", price: 254.0, image: "images/mutants/pseudodog_jaw.png"},
                {name: "–•–≤–æ—Å—Ç –ø—Å–µ–≤–¥–æ—Å–æ–±–∞–∫–∏", price: 155.0, image: "images/mutants/pseudodog_tail.png"},
                {name: "–®–∫—É—Ä–∞ –ø—Å–µ–≤–¥–æ—Å–æ–±–∞–∫–∏", price: 70.0, image: "images/mutants/pseudodog_skin.png"},
                {name: "–•–≤–æ—Å—Ç –ø—Å–∏-—Å–æ–±–∞–∫–∏", price: 179.0, image: "images/mutants/psidog_tail.png"},
                {name: "–ú–æ–∑–≥ –ø—Å–∏-—Å–æ–±–∞–∫–∏", price: 299.0, image: "images/mutants/psidog_brain.png"},
                {name: "–®–∫—É—Ä–∞ –ø—Å–∏-—Å–æ–±–∞–∫–∏", price: 76.0, image: "images/mutants/psidog_skin.png"},
                {name: "–ì–ª–∞–∑ –ø–ª–æ—Ç–∏", price: 199.0, image: "images/mutants/flesh_eye.png"},
                {name: "–ö–ª–µ—à–Ω—è –ø–ª–æ—Ç–∏", price: 111.0, image: "images/mutants/flesh_claw.png"},
                {name: "–®–∫—É—Ä–∞ –ø–ª–æ—Ç–∏", price: 66.0, image: "images/mutants/flesh_skin.png"},
                {name: "–ì–æ–ª–æ–≤–∞ —Ç—É—à–∫–∞–Ω–∞", price: 112.0, image: "images/mutants/tushkano_head.png"},
                {name: "–•–≤–æ—Å—Ç —Ç—É—à–∫–∞–Ω–∞", price: 86.0, image: "images/mutants/tushkano_tail.png"},
                {name: "–®–∫—É—Ä–∞ —Ç—É—à–∫–∞–Ω–∞", price: 40.0, image: "images/mutants/tushkano_skin.png"},
                {name: "–°—Ç–æ–ø–∞ —Å–Ω–æ—Ä–∫–∞", price: 399.0, image: "images/mutants/snork_foot.png"},
                {name: "–†—É–∫–∞ —Å–Ω–æ—Ä–∫–∞", price: 220.0, image: "images/mutants/snork_hand.png"},
                {name: "–•—Ä–µ–±–µ—Ç —Å–Ω–æ—Ä–∫–∞", price: 170.0, image: "images/mutants/snork_spine.png"},
                {name: "–©—É–ø–∞–ª—å—Ü–∞ –∫—Ä–æ–≤–æ—Å–æ—Å–∞", price: 300.0, image: "images/mutants/bloodsucker_tentacles.png"},
                {name: "–ü–∞–ª—å—Ü—ã –∫—Ä–æ–≤–æ—Å–æ—Å–∞", price: 554.0, image: "images/mutants/bloodsucker_fingers.png"},
                {name: "–®–∫—É—Ä–∞ –∫—Ä–æ–≤–æ—Å–æ—Å–∞", price: 199.0, image: "images/mutants/bloodsucker_skin.png"},
                {name: "–ü–µ—á–µ–Ω—å –∑–æ–º–±–∏", price: 278.0, image: "images/mutants/zombie_liver.png"},
                {name: "–†—É–∫–∞ –∑–æ–º–±–∏", price: 199.0, image: "images/mutants/zombie_hand.png"},
                {name: "–°–∫–∞–ª—å–ø –∑–æ–º–±–∏", price: 80.0, image: "images/mutants/zombie_scalp.png"},
                {name: "–°—Ç–æ–ø–∞ –∏–∑–ª–æ–º–∞", price: 333.0, image: "images/mutants/fracture_foot.png"},
                {name: "–†—É–∫–∞ –∏–∑–ª–æ–º–∞", price: 266.0, image: "images/mutants/fracture_hand.png"},
                {name: "–ö–æ–∂–∞ –∏–∑–ª–æ–º–∞", price: 98.0, image: "images/mutants/fracture_skin.png"},
                {name: "–õ–∞–ø–∞ –≥–æ—Ä–±—É–Ω–∞", price: 375.0, image: "images/mutants/hunchback_paw.png"},
                {name: "–ì–æ–ª–æ–≤–∞ –≥–æ—Ä–±—É–Ω–∞", price: 250.0, image: "images/mutants/hunchback_head.png"},
                {name: "–®–∫—É—Ä–∞ –≥–æ—Ä–±—É–Ω–∞", price: 108.0, image: "images/mutants/hunchback_skin.png"},
                {name: "–†—É–∫–∞ –∫–∞—Ä–ª–∏–∫–∞", price: 221.0, image: "images/mutants/dwarf_hand.png"},
                {name: "–®–∫—É—Ä–∞ –∫–∞—Ä–ª–∏–∫–∞", price: 98.0, image: "images/mutants/dwarf_skin.png"},
                {name: "–ì–æ–ª–æ–≤–∞ –∫–∞—Ä–ª–∏–∫–∞", price: 875.0, image: "images/mutants/dwarf_head.png"},
                {name: "–ö–æ–≥—Ç–∏ —Ö–∏–º–µ—Ä—ã", price: 1512.0, image: "images/mutants/chimera_claws.png"},
                {name: "–£—Ö–æ —Ö–∏–º–µ—Ä—ã", price: 1918.0, image: "images/mutants/chimera_ear.png"},
                {name: "–®–∫—É—Ä–∞ —Ö–∏–º–µ—Ä—ã", price: 625.0, image: "images/mutants/chimera_skin.png"},
                {name: "–ì–ª–∞–∑ –ø—Å–µ–≤–¥–æ-–≥–∏–≥–∞–Ω—Ç–∞", price: 2900.0, image: "images/mutants/pseudogiant_eye.png"},
                {name: "–õ–∞–ø–∞ –ø—Å–µ–≤–¥–æ–≥–∏–≥–∞–Ω—Ç–∞", price: 1978.0, image: "images/mutants/pseudogiant_paw.png"},
                {name: "–®–∫—É—Ä–∞ –ø—Å–µ–≤–¥–æ–≥–∏–≥–∞–Ω—Ç–∞", price: 900.0, image: "images/mutants/pseudogiant_skin.png"},
                {name: "–†—É–∫–∞ –±—é—Ä–µ—Ä–∞", price: 415.0, image: "images/mutants/burer_hand.png"},
                {name: "–ú–æ–∑–≥ –±—é—Ä–µ—Ä–∞", price: 716.0, image: "images/mutants/burer_brain.png"},
                {name: "–ö–æ–∂–∞ –±—é—Ä–µ—Ä–∞", price: 198.0, image: "images/mutants/burer_skin.png"},
                {name: "–•–≤–æ—Å—Ç –∫–æ—Ç–∞ - –±–∞—é–Ω–∞", price: 312.0, image: "images/mutants/cat_bayun_tail.png"},
                {name: "–ñ–µ–ª–µ–∑–∞ –∫–æ—Ç–∞ - –±–∞—é–Ω–∞", price: 212.0, image: "images/mutants/cat_bayun_gland.png"},
                {name: "–®–∫—É—Ä–∞ –∫–æ—Ç–∞ - –±–∞—é–Ω–∞", price: 90.0, image: "images/mutants/cat_bayun_skin.png"},
                {name: "–ú–æ–∑–≥ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞", price: 933.0, image: "images/mutants/controller_brain.png"},
                {name: "–†—É–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞", price: 572.0, image: "images/mutants/controller_hand.png"},
                {name: "–°–∫–∞–ª—å–ø –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞", price: 202.0, image: "images/mutants/controller_scalp.png"}
            ],
            documents: [
                {name: "–°—Ç–∞—Ä–∞—è —Ñ–ª–µ—à–∫–∞", price: 190.0, image: "images/documents/flash_old.png"},
                {name: "–ü–æ—Ç–µ—Ä—Ç–∞—è —Ñ–ª–µ—à–∫–∞", price: 330.0, image: "images/documents/flash_worn.png"},
                {name: "–£—Ç–µ—Ä—è–Ω–Ω—ã–π –ö–ü–ö", price: 350.0, image: "images/documents/pda_lost.png"},
                {name: "–ö–∞—Ä—Ç–∞ –ß–ó–û 2003–≥.", price: 444.0, image: "images/documents/map_chzo.png"},
                {name: "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã", price: 580.0, image: "images/documents/admin_docs.png"},
                {name: "–ü–∏—Å—å–º–æ –æ –ø–æ—Å—Ç–∞–≤–∫–∞—Ö –∏–∑–¥–µ–ª–∏—è ‚Ññ62", price: 715.0, image: "images/documents/letter_supply.png"},
                {name: "–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏–∑–¥–µ–ª–∏—é ‚Ññ62", price: 2425.0, image: "images/documents/docs_product62.png"},
                {name: "–î–æ–∫—É–º–µ–Ω—Ç—ã –∏–∑ –ø—Ä–∏–ø—è—Ç–∏", price: 532.0, image: "images/documents/docs_pripyat.png"},
                {name: "–ü—Ä–∏–∫–∞–∑ ‚Ññ562", price: 502.0, image: "images/documents/order_562.png"},
                {name: "–í–Ω—É—Ç—Ä–µ–Ω–Ω–µ —Ä–∞—Å–ø–æ—Ä—è–∂–µ–Ω–∏–µ ‚Ññ423", price: 513.0, image: "images/documents/internal_order.png"},
                {name: "–ë—É–º–∞–≥–∞ —Å –∑–∞–ø–∏—Å—è–º–∏", price: 200.0, image: "images/documents/paper_notes.png"},
                {name: "–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∫ –∏–∑–¥–µ–ª–∏—é ‚Ññ62", price: 2718.0, image: "images/documents/instruction_62.png"},
                {name: "–î–æ–∫—É–º–µ–Ω—Ç—ã –æ–± –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è—Ö", price: 1486.0, image: "images/documents/research_docs.png"},
                {name: "–°–∫–∞–Ω–µ—Ä –ì—Ä–æ–¥—É—Å", price: 1500.0, image: "images/documents/scanner_grodus.png"},
                {name: "–°–∫–∞–Ω–µ—Ä –ë—Ä–æ–∫—Å", price: 2200.0, image: "images/documents/scanner_brox.png"},
                {name: "–î–æ–∫—É–º–µ–Ω—Ç—ã –∏–∑ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏ —Ö16", price: 1624.0, image: "images/documents/docs_lab_x16.png"},
                {name: "–ì—Ä–∞—Ñ–∏–∫ –ø–æ—Å—Ç–∞–≤–æ–∫", price: 884.0, image: "images/documents/supply_schedule.png"},
                {name: "–ò–∑–ª—É—á–∞—Ç–µ–ª—å –†–∞–¥—É–≥–∞ - –æ—Å–Ω–æ–≤–Ω—ã–µ –¢–¢–•", price: 2130.0, image: "images/documents/emitter_rainbow.png"},
                {name: "–ñ—É—Ä–Ω–∞–ª –¥–µ–∂—É—Ä–Ω–æ–π —Å–º–µ–Ω—ã", price: 315.0, image: "images/documents/duty_log.png"},
                {name: "–î–æ–∫—É–º–µ–Ω—Ç—ã –∏–∑ –•18", price: 1513.0, image: "images/documents/docs_x18.png"},
                {name: "–ù–æ—É—Ç–±—É–∫", price: 512.0, image: "images/documents/laptop.png"},
                {name: "–ü–∞–ø–∫–∞ —Å –ø—Ä–∏–∫–∞–∑–æ–º", price: 486.0, image: "images/documents/folder_order.png"},
                {name: "–†–∞—Å–ø–æ—Ä—è–∂–µ–Ω–∏–µ –æ –ø–µ—Ä–µ–≤–æ–¥–µ", price: 614.0, image: "images/documents/transfer_order.png"},
                {name: "–î–æ–∫–ª–∞–¥ –æ–± –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏ –æ–±—Ä–∞–∑—Ü–æ–≤", price: 1102.0, image: "images/documents/report_samples.png"},
                {name: "–ß–µ—Ä—Ç–µ–∂–Ω–∞—è –±—É–º–∞–≥–∞", price: 500.0, image: "images/documents/drawing_paper.png"},
                {name: "–§—Ä–∞–≥–º–µ–Ω—Ç —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π –∫–∞—Ä—Ç–∞", price: 1181.0, image: "images/documents/map_fragment.png"},
                {name: "–¢–µ—Ç—Ä–∞–¥—å —Å –∑–∞–ø–∏—Å—å—é –æ–± —ç–∫—Å–ø–µ—Ä–µ–º–µ–Ω—Ç–µ", price: 2214.0, image: "images/documents/notebook_experiment.png"}
            ],
            artifacts: [
                {name: "–ü—É—Å—Ç—ã—à–∫–∞", price: 980.0, image: "images/artifacts/dummy.png"},
                {name: "–ú–µ–¥—É–∑–∞", price: 3000.0, image: "images/artifacts/jellyfish.png"},
                {name: "–ö–æ–ª—é—á–∫–∞", price: 2160.0, image: "images/artifacts/thorn.png"},
                {name: "–ü—É–∑—ã—Ä—å", price: 3485.0, image: "images/artifacts/bubble.png"},
                {name: "–ú–∞–º–∏–Ω—ã –±—É—Å—ã", price: 1515.0, image: "images/artifacts/mama_beads.png"},
                {name: "–õ–æ–º–æ—Ç—å –º—è—Å–∞", price: 1765.0, image: "images/artifacts/meat_slice.png"},
                {name: "–ü–ª–µ–Ω–∫–∞", price: 3200.0, image: "images/artifacts/film.png"},
                {name: "–ö–∞–ø–ª–∏", price: 580.0, image: "images/artifacts/drops.png"},
                {name: "–õ—É–Ω–Ω—ã–π —Å–≤–µ—Ç", price: 2415.0, image: "images/artifacts/moonlight.png"},
                {name: "–í—Å–ø—ã—à–∫–∞", price: 3460.0, image: "images/artifacts/flash.png"},
                {name: "–ë–∞—Ç–∞—Ä–µ–π–∫–∞", price: 4000.0, image: "images/artifacts/battery.png"},
                {name: "–ö–∞–º–µ–Ω–Ω—ã–π —Ü–≤–µ—Ç–æ–∫", price: 3980.0, image: "images/artifacts/stone_flower.png"},
                {name: "–°–≤–∞—Ä–∫–∞", price: 1817.0, image: "images/artifacts/welding.png"},
                {name: "–ö–æ–ª–æ–±–æ–∫", price: 3800.0, image: "images/artifacts/kolobok.png"},
                {name: "–ì–Ω–∏–ª—å", price: 980.0, image: "images/artifacts/rot.png"},
                {name: "–ë–∞–≥—Ä—è–Ω–µ—Ü", price: 2600.0, image: "images/artifacts/crimson.png"},
                {name: "–ü–ª–∞–º—è", price: 4200.0, image: "images/artifacts/flame.png"},
                {name: "–î—É—à–∞", price: 4900.0, image: "images/artifacts/soul.png"},
                {name: "–ì–ª–∞–∑", price: 2350.0, image: "images/artifacts/eye.png"},
                {name: "–ö–≤–∞—Ä—Ü", price: 2250.0, image: "images/artifacts/quartz.png"},
                {name: "–ü–µ—Ä–µ–∫–∞—Ç–∏-–ø–æ–ª–µ", price: 1150.0, image: "images/artifacts/tumbleweed.png"},
                {name: "–ù–õ–û", price: 4200.0, image: "images/artifacts/ufo.png"},
                {name: "–®–∞—Ä–æ–≤–∞—è –º–æ–ª–Ω–∏—è", price: 3568.0, image: "images/artifacts/ball_lightning.png"},
                {name: "–ö–∞–ø–ª—è —è–¥–∞", price: 5900.0, image: "images/artifacts/poison_drop.png"},
                {name: "–ò–º–±–∏—Ä—å", price: 2212.0, image: "images/artifacts/ginger.png"},
                {name: "–û—Ç–±–æ–π–Ω–∏–∫", price: 2880.0, image: "images/artifacts/bumper.png"},
                {name: "–°–∏–Ω—Ç–µ–∑", price: 2650.0, image: "images/artifacts/synthesis.png"},
                {name: "–ë—Ä–∞—Å–ª–µ—Ç", price: 4500.0, image: "images/artifacts/bracelet.png"},
                {name: "–ù–æ—á–Ω–∏–∫", price: 7000.0, image: "images/artifacts/night_light.png"},
                {name: "–ú–æ—Ö", price: 2508.0, image: "images/artifacts/moss.png"},
                {name: "–î—å—è–≤–æ–ª–∏—Å—Ç–Ω–∏–∫", price: 6045.0, image: "images/artifacts/devils_leaf.png"},
                {name: "–û—Å–º–∏–π", price: 1645.0, image: "images/artifacts/osmium.png"},
                {name: "–≠–ª–µ–∫—Ç—Ä–æ–ª–∏—Ç", price: 5435.0, image: "images/artifacts/electrolyte.png"},
                {name: "–°–∞–º–æ—Ä–æ–¥–æ–∫", price: 6450.0, image: "images/artifacts/nugget.png"},
                {name: "–Ø–Ω—Ç–∞—Ä—å", price: 13560.0, image: "images/artifacts/amber.png"},
                {name: "–ß–µ—Ä–≤—å", price: 4345.0, image: "images/artifacts/worm.png"},
                {name: "–†–∞–∑—Ä—è–¥", price: 10000.0, image: "images/artifacts/discharge.png"},
                {name: "–ö–æ–ª–µ—Å–æ", price: 895.0, image: "images/artifacts/wheel.png"},
                {name: "–õ–∞–π–º", price: 12550.0, image: "images/artifacts/lime.png"},
                {name: "–ù–æ—Å", price: 1670.0, image: "images/artifacts/nose.png"},
                {name: "–õ–∞–≤–∞", price: 3450.0, image: "images/artifacts/lava.png"},
                {name: "–°–æ–ª—å", price: 900.0, image: "images/artifacts/salt.png"},
                {name: "–í–∏–π", price: 7135.0, image: "images/artifacts/vii.png"},
                {name: "–ö–∏—Å–ª–æ—Ç–∞", price: 4550.0, image: "images/artifacts/acid.png"},
                {name: "–£—Å—Ç—Ä–∏—Ü–∞", price: 12100.0, image: "images/artifacts/oyster.png"},
                {name: "–ú—è—Å–æ—Ä—É–±–∫–∞", price: 13800.0, image: "images/artifacts/meat_grinder.png"},
                {name: "–ë–æ–ª–∏–¥", price: 4678.0, image: "images/artifacts/bolide.png"},
                {name: "–ó–µ–º–ª—è", price: 1700.0, image: "images/artifacts/earth.jpg"},
                {name: "–ü–µ–ø–µ–ª–∞—Ü", price: 8140.0, image: "images/artifacts/pelengator.png"},
                {name: "–¢–µ—Å–ª–∞", price: 5050.0, image: "images/artifacts/tesla.png"},
                {name: "–°–ø—É—Ç–Ω–∏–∫", price: 2440.0, image: "images/artifacts/satellite.png"},
                {name: "–ú–µ—Ç–µ–æ—Ä", price: 4789.0, image: "images/artifacts/meteor.png"},
                {name: "–°—Ç–µ–∫–ª–æ", price: 5000.0, image: "images/artifacts/glass.png"},
                {name: "–ü—É—Å—Ç–æ—Ç–∞", price: 13333.0, image: "images/artifacts/void.png"},
                {name: "–§–∏–ª–æ—Å–æ–≤—Å–∫–∏–π –∫–∞–º–µ–Ω—å", price: 440.0, image: "images/artifacts/philosophers_stone.png"},
                {name: "–ë–∞–∑–∞–ª—å—Ç", price: 5555.0, image: "images/artifacts/basalt.png"},
                {name: "–ì–∞–Ω—Ç–µ–ª—è", price: 6665.0, image: "images/artifacts/dumbbell.png"},
                {name: "–ú–æ—Ä—Å–∫–æ–π —ë–∂", price: 2900.0, image: "images/artifacts/sea_urchin.png"},
                {name: "–¶–µ–Ω—Ç—Ä–∏—Ñ—É–≥–∞", price: 3876.0, image: "images/artifacts/centrifuge.png"},
                {name: "–§–∞—Ä—à", price: 1100.0, image: "images/artifacts/minced_meat.png"},
                {name: "–ú–∞–≥–º–∞", price: 6250.0, image: "images/artifacts/magma.png"},
                {name: "–†–µ–±—É—Å", price: 1942.0, image: "images/artifacts/rebus.png"},
                {name: "–ë–æ–ª–æ—Ç–Ω–∏–∫", price: 1500.0, image: "images/artifacts/swamp.png"},
                {name: "–†–µ–±—Ä–∞", price: 760.0, image: "images/artifacts/ribs.png"},
                {name: "–ò–≥–æ–ª—å–Ω–∏–∫", price: 1717.0, image: "images/artifacts/needle_case.png"},
                {name: "–°–µ—Ä–∞—Ñ–∏–º", price: 13900.0, image: "images/artifacts/seraphim.png"},
                {name: "–ì–æ—Ä–≥–æ–Ω–∞", price: 1915.0, image: "images/artifacts/gorgon.png"},
                {name: "–ö–æ—Ä–∞–ª–ª", price: 550.0, image: "images/artifacts/coral.png"},
                {name: "–°–≤–µ—Ç–ª—è–∫", price: 6140.0, image: "images/artifacts/firefly.png"},
                {name: "–ù–µ—Ä–≤—ã", price: 4000.0, image: "images/artifacts/nerves.png"},
                {name: "–û–ø–∞–ª", price: 6150.0, image: "images/artifacts/opal.png"},
                {name: "–í–∑—Ä—ã–≤", price: 7150.0, image: "images/artifacts/explosion.png"},
                {name: "–ü—Ä–µ—Å—Å", price: 8765.0, image: "images/artifacts/press.png"},
                {name: "–î–µ–ª–∏–∫–∞—Ç–µ—Å", price: 4567.0, image: "images/artifacts/delicacy.png"},
                {name: "–ë–µ–Ω–≥–∞–ª—å—Å–∫–∏–π –æ–≥–æ–Ω—å", price: 1650.0, image: "images/artifacts/sparkler.png"},
                {name: "–ö–∞–º–µ–Ω–Ω—ã–π –∞–Ω–≥–µ–ª", price: 9050.0, image: "images/artifacts/stone_angel.png"},
                {name: "–ü–∞—É–∫", price: 9050.0, image: "images/artifacts/spider.png"},
                {name: "–£—Ä–∞–Ω", price: 1950.0, image: "images/artifacts/uranium.png"},
                {name: "–ê–∑–æ—Ç–Ω—ã–π —à–∞—Ä", price: 9356.0, image: "images/artifacts/nitrogen_ball.png"},
                {name: "–ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä", price: 800.0, image: "images/artifacts/accumulator.png"},
                {name: "–ì—Ä–æ—Ç–µ–∫—Å", price: 2870.0, image: "images/artifacts/grotex.png"},
                {name: "–°–∏—è–Ω–∏–µ", price: 6670.0, image: "images/artifacts/glow.png"},
                {name: "–ò—à—Ç–∞—Ä", price: 6074.0, image: "images/artifacts/ishtar.png"},
                {name: "–°–æ—Ç—ã", price: 8870.0, image: "images/artifacts/honeycomb.png"},
                {name: "–¶–µ–ø", price: 750.0, image: "images/artifacts/chain.png"},
                {name: "–ü–∞–ª–∞–Ω—Ç–∏—Ä", price: 9340.0, image: "images/artifacts/palantir.png"},
                {name: "–†–∞—á—å–∏ –≥–ª–∞–∑–∞", price: 650.0, image: "images/artifacts/crab_eyes.png"},
                {name: "–ú–æ—Ö–∏—Ç–æ", price: 4967.0, image: "images/artifacts/mojito.png"},
                {name: "–°–µ—Ç–∫–∞", price: 3707.0, image: "images/artifacts/mesh.png"},
                {name: "–ò–∑—É–º—Ä—É–¥", price: 5767.0, image: "images/artifacts/emerald.png"},
                {name: "–ö–æ—Ä–æ–Ω–∞", price: 7000.0, image: "images/artifacts/crown.png"},
                {name: "–ú–æ—Ä–æ–∫", price: 1760.0, image: "images/artifacts/fog.png"},
                {name: "–°–µ—Ä–ø", price: 5085.0, image: "images/artifacts/sickle.png"},
                {name: "–ö–ª–µ–≤–µ—Ä", price: 4104.0, image: "images/artifacts/clover.png"},
                {name: "–°–µ—Ä–æ–º–∞", price: 4480.0, image: "images/artifacts/seroma.png"},
                {name: "–ü—Ä—É–∂–∏–Ω–∞", price: 1650.0, image: "images/artifacts/spring.png"},
                {name: "–ñ–µ–ª—á—å", price: 1787.0, image: "images/artifacts/bile.png"},
                {name: "–ü–µ—Ç—É–Ω–∏—è", price: 4235.0, image: "images/artifacts/petunia.png"},
                {name: "—Ñ—É–ª—å–≥—É—Ä–∏—Ç", price: 1000.0, image: "images/artifacts/fulgurite.png"},
                {name: "–ú–∏—Ä–∞–∂", price: 1760.0, image: "images/artifacts/mirage.png"},
                {name: "–§–∏–Ω–∏–∫–∏", price: 2000.0, image: "images/artifacts/dates.png"},
                {name: "–ú—Ä–∞–º–æ—Ä", price: 3100.0, image: "images/artifacts/marble.png"},
                {name: "–ö—Ä–æ–≤—å –ö–∞–º–Ω—è", price: 500.0, image: "images/artifacts/stone_blood.png"},
                {name: "–°—É–≤–µ–Ω–∏—Ä", price: 6050.0, image: "images/artifacts/souvenir.png"},
                {name: "–í–æ–¥–æ–≤–æ—Ä–æ—Ç", price: 2350.0, image: "images/artifacts/whirlpool.png"},
                {name: "–ü–∞—Ä–∞–¥–æ–∫—Å", price: 3050.0, image: "images/artifacts/paradox.png"},
                {name: "–£–≥–∞—Å—à–∞—è –∑–≤–µ–∑–¥–∞", price: 3100.0, image: "images/artifacts/faded_star.png"},
                {name: "–ì—Ä–∞–≤–∏", price: 2402.0, image: "images/artifacts/gravi.png"},
                {name: "–î–µ–º–∞–Ω—Ç–æ–∏–¥", price: 3870.0, image: "images/artifacts/demantoid.png"},
                {name: "–û–≥–Ω–µ–Ω–Ω—ã–π —à–∞—Ä", price: 1650.0, image: "images/artifacts/fireball.png"},
                {name: "–†–µ–ø–µ–π–Ω–∏–∫", price: 700.0, image: "images/artifacts/burdock.png"},
                {name: "–ö—Ä–∏—Å—Ç–∞–ª–ª", price: 3705.0, image: "images/artifacts/crystal.png"},
                {name: "–¢–∏—Å–∫–∏", price: 4460.0, image: "images/artifacts/vise.png"},
                {name: "–û—Å–∫–æ–ª—é–∫", price: 3650.0, image: "images/artifacts/fragment.png"},
                {name: "–ö–æ–ª—å–µ", price: 13200.0, image: "images/artifacts/necklace.png"},
                {name: "–ß–µ—Ä–Ω–æ–µ —Å–µ—Ä–¥—Ü–µ", price: 5900.0, image: "images/artifacts/black_heart.png"},
                {name: "–ö–ª–∞—Å—Ç–µ—Ä", price: 2125.0, image: "images/artifacts/cluster.png"},
                {name: "–ü–æ–ª—è—Ä–Ω–∞—è –∑–≤–µ–∑–¥–∞", price: 2222.0, image: "images/artifacts/polar_star.png"},
                {name: "–°–≥—É—Å—Ç–æ–∫", price: 1750.0, image: "images/artifacts/clot.png"},
                {name: "–®–∏—à–∫–∞", price: 8708.0, image: "images/artifacts/cone.png"},
                {name: "–î—É—Ö", price: 4897.0, image: "images/artifacts/spirit.png"},
                {name: "–ú–æ—Ä—Å–∫–æ–π –∫–æ–Ω—ë–∫", price: 2970.0, image: "images/artifacts/seahorse.png"},
                {name: "–°–µ–ª–µ–Ω", price: 5124.0, image: "images/artifacts/selenium.png"},
                {name: "–°–µ—Ä–¥—Ü–µ", price: 2514.0, image: "images/artifacts/heart.png"},
                {name: "–ü–µ–Ω–∞", price: 2760.0, image: "images/artifacts/foam.png"},
                {name: "–ö–ª–∞–¥–æ—Ñ–æ—Ä–∞", price: 12467.0, image: "images/artifacts/cladophora.png"},
                {name: "–ü–µ—Ç–ª—è", price: 5228.0, image: "images/artifacts/loop.png"},
                {name: "–í—ã–≤–µ—Ä—Ç", price: 1750.0, image: "images/artifacts/twist.png"},
                {name: "–ù–æ—á–Ω–∞—è –∑–≤–µ–∑–¥–∞", price: 3950.0, image: "images/artifacts/night_star.png"},
                {name: "–£–ª–µ–π", price: 1760.0, image: "images/artifacts/hive.png"},
                {name: "–ß–µ—Ä–Ω–∞—è –º–µ–¥—É–∑–∞", price: 4050.0, image: "images/artifacts/black_jellyfish.png"},
                {name: "–ö—Ä–µ–≤–µ—Ç–∫–∞", price: 1000.0, image: "images/artifacts/shrimp.png"},
                {name: "–ö–∞—à—Ç–∞–Ω", price: 1750.0, image: "images/artifacts/chestnut.png"},
                {name: "–¢—Ä–æ–º–±", price: 2707.0, image: "images/artifacts/thrombus.png"},
                {name: "–ß–µ—Ä—Ç–æ–ø–æ–ª–æ—Ö", price: 1055.0, image: "images/artifacts/thistle.png"},
                {name: "–ö–æ—Ç–µ–ª", price: 4050.0, image: "images/artifacts/cauldron.png"},
                {name: "–õ–∏—à–∞–π–Ω–∏–∫", price: 875.0, image: "images/artifacts/lichen.png"},
                {name: "–£–ø—ã—Ä—å", price: 4050.0, image: "images/artifacts/ghoul.png"},
                {name: "–ö—Ä–∏–ª—å", price: 9198.0, image: "images/artifacts/krill.png"},
                {name: "–ó–æ–ª–æ—Ç–∞—è —Ä—ã–±–∫–∞", price: 3656.0, image: "images/artifacts/goldfish.png"},
                {name: "–•–ª–æ—Ä–æ—Ñ–∏–ª–ª", price: 2000.0, image: "images/artifacts/chlorophyll.png"},
                {name: "–ú–∏–Ω–µ—Ä–∞–ª", price: 2980.0, image: "images/artifacts/mineral.png"},
                {name: "–í–∑–æ—Ä", price: 3208.0, image: "images/artifacts/gaze.png"},
                {name: "–ë–∞–∫–µ–ª–∏—Ç", price: 1150.0, image: "images/artifacts/bakelite.png"},
                {name: "–û–∫–∞–º–µ–Ω–µ–ª–æ—Å—Ç—å", price: 1870.0, image: "images/artifacts/fossil.png"},
                {name: "–õ–æ–∑–∞", price: 980.0, image: "images/artifacts/vine.png"},
                {name: "–ù–µ–π—Ä–æ–Ω", price: 6905.0, image: "images/artifacts/neuron.png"},
                {name: "–í—É–ª–∫–∞–Ω", price: 4055.0, image: "images/artifacts/volcano.png"},
                {name: "–ü—Ä–æ—Ç—É–±–µ—Ä–∞–Ω–µ—Ü", price: 7890.0, image: "images/artifacts/protuberance.png"},
                {name: "–í–∞–ª–µ—Ç", price: 8780.0, image: "images/artifacts/jack.png"},
                {name: "–†–∂–∞–≤—å", price: 4987.0, image: "images/artifacts/rust.png"},
                {name: "–ß–µ—Ä–µ–ø", price: 6072.0, image: "images/artifacts/skull.png"},
                {name: "–°–Ω–µ–∂–∏–Ω–∫–∞", price: 2700.0, image: "images/artifacts/snowflake.png"},
                {name: "–°–ø–ª–∞–≤", price: 5345.0, image: "images/artifacts/alloy.png"},
                {name: "–•—Ä—É—Å—Ç–∞–ª—å", price: 618.0, image: "images/artifacts/crystal_clear.png"},
                {name: "–†—É–±–∏–Ω", price: 6124.0, image: "images/artifacts/ruby.png"},
                {name: "–ù–∏–º–±", price: 800.0, image: "images/artifacts/halo.png"},
                {name: "–ö–æ–ª—å—Ü–æ", price: 11765.0, image: "images/artifacts/ring.png"},
                {name: "–ë–∞—Ç–∞–≤—Å–∫–∏–µ —Å–ª–µ–∑–∫–∏", price: 8964.0, image: "images/artifacts/batavian_tears.png"},
                {name: "–£—Ä–æ—Ä–æ–±–æ—Å", price: 9150.0, image: "images/artifacts/ouroboros.png"}
            ],
            garbage: [
                {name: "–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –≤—ã–∂–∏–≤–∞–Ω–∏—é", price: 70.0, image: "images/garbage/detection_guide.png"},
                {name: "–ñ—É—Ä–Ω–∞–ª '–û—Å–Ω–æ–≤—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ç—Ä–æ–Ω–æ–≤'", price: 26.0, image: "images/garbage/ammo_design_journal.png"},
                {name: "–°—Ç–∞—Ä–∞—è —Ñ–ª–∞–≥–∞", price: 50.0, image: "images/garbage/flag_operation.png"},
                {name: "–†–∞—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –±–∞–ª–∞–ª–∞–π–∫–∞", price: 50.0, image: "images/garbage/balalaika.png"},
                {name: "–°—Ç–∞—Ä–∞—è –≥–∞—Ä–º–æ—à–∫–∞", price: 150.0, image: "images/garbage/harmonic_operation.png"},
                {name: "–ë—É–º–∞–≥–∞", price: 40.0, image: "images/garbage/paper.png"},
                {name: "–ë—É—Ç—ã–ª–∫–∞ –∫–µ—Ä–æ—Å–∏–Ω–∞", price: 45.0, image: "images/garbage/kerosene.png"},
                {name: "–û—Ç—Å—ã—Ä–µ–≤—à–∏–µ –ø–∞—Ç—Ä–æ–Ω—ã 45 –ê–°–†", price: 40.0, image: "images/garbage/wet_45_acp.png"},
                {name: "–û—Ç—Å—ã—Ä–µ–≤—à–∏–µ –ø–∞—Ç—Ä–æ–Ω—ã 12 –∫–∞–ª–ª–∏–±—Ä–∞", price: 40.0, image: "images/garbage/wet_12_gauge.png"},
                {name: "–û—Ç—Å—ã—Ä–µ–≤—à–∏–µ –ø–∞—Ç—Ä–æ–Ω—ã 9—Ö18", price: 15.0, image: "images/garbage/wet_9x18.png"},
				{name: "–û—Ç—Å—ã—Ä–µ–≤—à–∏–µ –ø–∞—Ç—Ä–æ–Ω—ã 5.56x45", price: 20.0, image: "images/garbage/wet_5.56x45.png"},
				{name: "–û—Ç—Å—ã—Ä–µ–≤—à–∏–µ –ø–∞—Ç—Ä–æ–Ω—ã 7.62x25", price: 15.0, image: "images/garbage/wet_762x25.png"},
                {name: "–ü–æ—Ä–≤–∞–Ω–Ω—ã–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∂—É—Ä–Ω–∞–ª", price: 45.0, image: "images/garbage/technical_journal.png"},
                {name: "–ú–æ—Ç–æ—Ü–∏–∫–ª–µ—Ç–Ω—ã–µ –æ—á–∫–∏", price: 70.0, image: "images/garbage/glasses.png"},
                {name: "–®–∞—Ö–º–∞—Ç–Ω–∞—è –¥–æ—Å–∫–∞", price: 40.0, image: "images/garbage/chess_board.png"},
                {name: "–õ–∏—á–Ω–æ–µ —Ñ–æ—Ç–æ –¥–µ–≤—É—à–∫–∏", price: 160.0, image: "images/garbage/girl_photo.png"},
                {name: "–°–≤–µ—Ä—Ç–æ–∫ —Å—Ç–∞—Ä—ã—Ö –≥–∞–∑–µ—Ç", price: 10.0, image: "images/garbage/newspaper_bundle.png"},
                {name: "–°—Ç–∞—Ä–∞—è –≥–∞–∑–µ—Ç–∞", price: 10.0, image: "images/garbage/newspaper_operation.png"},
                {name: "–°—Ç–∞—Ä—ã–µ —Å–∞–ø–æ–≥–∏", price: 30.0, image: "images/garbage/boots.png"},
                {name: "–†–∂–∞–≤–∞—è –∑–∞–∂–∏–≥–∞–ª–∫–∞", price: 30.0, image: "images/garbage/rusty_lighter.png"},
                {name: "–ö–∞—Ä—Ç—ã", price: 10.0, image: "images/garbage/cards.png"},
                {name: "–°–µ—Ä–µ–±—Ä—è–Ω–æ–µ –æ–∂–µ—Ä–µ–ª—å–µ", price: 325.0, image: "images/garbage/silver_necklace.png"},
                {name: "–ö–∞–Ω–∏—Å—Ç—Ä–∞ –±–µ–Ω–∑–∏–Ω–∞", price: 125.0, image: "images/garbage/belkin_canister.png"},
                {name: "–ñ—É—Ä–Ω–∞–ª Maxim", price: 125.0, image: "images/garbage/maxim_magazine.png"},
                {name: "–ñ—É—Ä–Ω–∞–ª Playboy", price: 75.0, image: "images/garbage/playboy_magazine.png"},
                {name: "–°–ø–∞–ª—å–Ω–∏–∫", price: 25.0, image: "images/garbage/sleeping_bag.png"},
				{name: "–ú–µ–¥–∞–ª—å '–ó–∞ –æ—Ç–≤–∞–≥—É'", price: 600.0, image: "images/garbage/medal_courage.png"},
				{name: "–û—Ä–¥–µ–Ω –õ–µ–Ω–∏–Ω–∞", price: 1500.0, image: "images/garbage/order_lenin.png"},
				{name: "–û—Ä–¥–µ–Ω —Å–ª–∞–≤—ã", price: 1500.0, image: "images/garbage/order_glory.png"},
				{name: "–û—Ä–¥–µ–Ω –æ—Ç–µ—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –≤–æ–π–Ω—ã", price: 800.0, image: "images/garbage/order_patriotic_war.png"},
				{name: "–ü–æ—Ç—ë—Ä—Ç–∞—è –∑–≤–µ–∑–¥–∞ –Ω–∞ –ª–µ–Ω—Ç–µ", price: 350.0, image: "images/garbage/worn_star.png"},
				{name: "–ó–Ω–∞—á–æ–∫ –ù–ö–í–î", price: 800.0, image: "images/garbage/nkvd_badge.png"},
				{name: "–ú–µ–¥–∞–ª—å '–ó–∞ –∑–∞—Å–ª—É–≥–∏'", price: 250.0, image: "images/garbage/medal_merit.png"},
				{name: "–ó–Ω–∞—á–æ–∫ '–°–Ω–∞–π–ø–µ—Ä'", price: 800.0, image: "images/garbage/sniper_badge.png"},
				{name: "–ì–∞–∑–æ–≤–∞—è –ø–ª–∏—Ç–∫–∞", price: 25.0, image: "images/garbage/gas_stove.png"}
            ],
            medicine: [
                {name: "–ù–µ–æ—á–∏—â–µ–Ω–Ω–∞—è –±—É—Ç—ã–ª–∫–∞ –≤–æ–¥—ã", price: 30.0, image: "images/medicine/water_bottle.png"},
                {name: "–ê–∫–≤–∞—Ç–∞–±—Å", price: 75.0, image: "images/medicine/aquatabs.png"},
                {name: "–ú–µ—à–æ–∫ —Å –∫—Ä—É–ø–æ–π", price: 85.0, image: "images/medicine/grain_bag.png"},
                {name: "–ü–∞—á–∫–∞ –°–∞—Ö–∞—Ä–∞", price: 105.0, image: "images/medicine/sugar_pack.png"},
                {name: "–ö–æ—Ä–æ–± —Å —á–∞–µ–º", price: 50.0, image: "images/medicine/tea_box.png"},
                {name: "–ë–∞–Ω–∫–∞ —Å–æ —Å–ø–µ—Ü–∏—è–º–∏", price: 75.0, image: "images/medicine/spices_jar.png"},
                {name: "–ú–∞—Å–ª–æ –¥–ª—è –≥–æ—Ç–æ–≤–∫–∏", price: 75.0, image: "images/medicine/cooking_oil.png"},
                {name: "–ú—è—Å–æ —Å–ª–µ–ø–æ–≥–æ –ø—Å–∞", price: 15.0, image: "images/medicine/blind_dog_meat.png"},
                {name: "–ë–∞–Ω–∫–∞ —Å–æ–ª–∏", price: 40.0, image: "images/medicine/salt_jar.png"},
                {name: "–ì–æ—Ä–æ—Ö–æ–≤–æ–µ –ø—é—Ä–µ", price: 40.0, image: "images/medicine/pea_puree.png"},
                {name: "–ê–ø—Ç–µ—á–∫–∞", price: 100.0, image: "images/medicine/medkit.png"},
                {name: "–°—Ç–∞—Ä—ã–π –±–∏–Ω—Ç", price: 75.0, image: "images/medicine/old_bandage.png"},
                {name: "–í–∏–∫–∞—Å–æ–ª", price: 80.0, image: "images/medicine/vikasol.png"},
                {name: "–ü—É—Å—Ç–æ–π –±–ª–∏—Å—Ç–µ—Ä", price: 80.0, image: "images/medicine/empty_blister.png"},
                {name: "–ê—Ü–∏–∑–æ–ª", price: 80.0, image: "images/medicine/atsizol.png"},
                {name: "–ü–∞–∫–µ—Ç —Å –∫—Ä–æ–≤—å—é", price: 100.0, image: "images/medicine/blood_pack.png"},
                {name: "–ü—É—Å—Ç–æ–π —à–ø—Ä–∏—Ü", price: 50.0, image: "images/medicine/empty_syringe.png"},
                {name: "–ü—É—Å—Ç–æ–π –ø–∞–∫–µ—Ç —Å –∫—Ä–æ–≤—å—é", price: 50.0, image: "images/medicine/empty_blood_pack.png"},
                {name: "–ê–Ω—Ç–∏—Å–µ–ø—Ç–∏–∫", price: 65.0, image: "images/medicine/antiseptic.png"},
                {name: "–ê—Ä–º–µ–π—Å–∫–æ–µ –æ–±–µ–∑–±–æ–ª–∏–≤–∞—é—â–µ–µ", price: 95.0, image: "images/medicine/army_painkiller.png"},
                {name: "–ò–Ω—ä–µ–∫—Ü–∏—è –º–æ—Ä—Ñ–∏–Ω–∞", price: 120.0, image: "images/medicine/morphine_injection.png"},
                {name: "–ü—Ä–µ–ø–∞—Ä–∞—Ç E-190", price: 195.0, image: "images/medicine/e190_drug.png"}
            ]
        };

        let selectedItems = {};
        let currentCategory = 'scrap';
        let currentDetailItem = null;
        let bonusApplied = false;
        let saleApplied = false;
        let currentSearch = '';
        let currentFilteredItems = [];
        let isSidebarOpen = false;
        let editMode = false;

        const API_URL = 'https://jsonblob.com/api/jsonBlob';

        let loans = [];
        let storageRentals = [];
        let lockedItems = {};
        let customPrices = {};
        let currentCreditCalculation = null;
        let currentStorageCalculation = null;
        let selectedCells = new Set();
        let selectedCellsEdit = new Set();
        let editingStorageId = null;
        let currentSafe = 1;

        let dataId = '';

        async function loadData() {
            try {
                const response = await fetch(`${API_URL}/1309293260908601344`);
                const data = await response.json();
                
                loans = data.loans || [];
                storageRentals = data.storageRentals || [];
                lockedItems = data.lockedItems || {};
                customPrices = data.customPrices || {};
                
                updateLoansTable();
                updateStorageTable();
                createStorageGrid();
                loadCategory(currentCategory);
            } catch (error) {
                console.log('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–µ');
                loans = JSON.parse(localStorage.getItem('mz_loans')) || [];
                storageRentals = JSON.parse(localStorage.getItem('mz_storage_rentals')) || [];
                lockedItems = JSON.parse(localStorage.getItem('mz_locked_items')) || {};
                customPrices = JSON.parse(localStorage.getItem('mz_custom_prices')) || {};
            }
        }

        async function saveData() {
            const data = {
                loans,
                storageRentals,
                lockedItems,
                customPrices
            };

            try {
                if (!dataId) {
                    const response = await fetch(API_URL, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(data)
                    });
                    const location = response.headers.get('Location');
                    if (location) {
                        dataId = location.split('/').pop();
                    }
                } else {
                    await fetch(`${API_URL}/${dataId}`, {
                        method: 'PUT',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(data)
                    });
                }
            } catch (error) {
                console.log('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –æ–±–ª–∞–∫–æ, —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ª–æ–∫–∞–ª—å–Ω–æ');
                localStorage.setItem('mz_loans', JSON.stringify(loans));
                localStorage.setItem('mz_storage_rentals', JSON.stringify(storageRentals));
                localStorage.setItem('mz_locked_items', JSON.stringify(lockedItems));
                localStorage.setItem('mz_custom_prices', JSON.stringify(customPrices));
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        function initializeApp() {
            loadData();
            setupEventListeners();
            updateTotal();
            updateSelectedItemsList();
            initializePages();
        }

        function setupEventListeners() {
            document.querySelectorAll('.category-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    switchCategory(this.dataset.category);
                });
            });
            
            document.getElementById('searchInput').addEventListener('input', function(e) {
                handleSearch(e.target.value);
            });

            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    switchPage(this.dataset.page);
                });
            });

            document.querySelectorAll('.safe-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    switchSafe(parseInt(this.dataset.safe));
                });
            });
        }

        function handleSearch(query) {
            currentSearch = query.toLowerCase().trim();
            
            if (currentSearch === '–∫–∞—Ä—É—Å–µ–ª—å') {
                showSpecialMessage();
                return;
            }
            
            if (currentSearch === '1234098756') {
                toggleEditMode();
                document.getElementById('searchInput').value = '';
                currentSearch = '';
                loadCategory(currentCategory);
                return;
            }
            
            document.querySelectorAll('.category-tab').forEach(tab => {
                tab.classList.remove('highlighted');
            });
            
            if (currentSearch === '') {
                loadCategory(currentCategory);
                return;
            }
            
            let foundCategory = null;
            
            for (const category in itemsDatabase) {
                const hasMatch = itemsDatabase[category].some(item => 
                    item.name.toLowerCase().includes(currentSearch)
                );
                
                if (hasMatch) {
                    document.querySelector(`[data-category="${category}"]`).classList.add('highlighted');
                    
                    if (category === currentCategory) {
                        foundCategory = category;
                    }
                    else if (!foundCategory) {
                        foundCategory = category;
                    }
                }
            }
            
            if (foundCategory) {
                if (foundCategory !== currentCategory) {
                    switchCategory(foundCategory);
                } else {
                    loadCategory(currentCategory);
                }
            } else {
                loadCategory(currentCategory);
            }
        }

        function toggleEditMode() {
            editMode = !editMode;
            const editControls = document.querySelector('.edit-controls');
            
            if (editMode) {
                editControls.classList.add('active');
                showNotification('–†–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω', 'success');
            } else {
                editControls.classList.remove('active');
                showNotification('–†–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω', 'info');
            }
            
            loadCategory(currentCategory);
        }

        async function toggleItemLock(itemId) {
            if (!editMode) return;
            
            lockedItems[itemId] = !lockedItems[itemId];
            
            if (lockedItems[itemId]) {
                selectedItems[itemId] = 0;
            }
            
            loadCategory(currentCategory);
            updateTotal();
            updateSelectedCount();
            updateSelectedItemsList();
            
            await saveData();
            
            const [category, index] = itemId.split('_');
            const item = itemsDatabase[category][parseInt(index)];
            const action = lockedItems[itemId] ? '–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω' : '—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω';
            showNotification(`–ü—Ä–µ–¥–º–µ—Ç "${item.name}" ${action}`, lockedItems[itemId] ? 'warning' : 'success');
        }

        async function editItemPrice(itemId) {
            if (!editMode) return;
            
            const [category, index] = itemId.split('_');
            const item = itemsDatabase[category][parseInt(index)];
            const currentPrice = customPrices[itemId] || item.price;
            
            const newPrice = prompt(`–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—É—é —Ü–µ–Ω—É –¥–ª—è "${item.name}":`, currentPrice);
            if (newPrice === null) return;
            
            const price = parseFloat(newPrice);
            if (isNaN(price) || price < 0) {
                showNotification('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ü–µ–Ω–∞', 'error');
                return;
            }
            
            customPrices[itemId] = price;
            
            loadCategory(currentCategory);
            await saveData();
            showNotification(`–¶–µ–Ω–∞ –¥–ª—è "${item.name}" –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞ ${formatPrice(price)} —Ä—É–±.`, 'success');
        }

        async function resetItemPrice(itemId) {
            if (!editMode) return;
            
            const [category, index] = itemId.split('_');
            const item = itemsDatabase[category][parseInt(index)];
            
            delete customPrices[itemId];
            
            loadCategory(currentCategory);
            await saveData();
            showNotification(`–¶–µ–Ω–∞ –¥–ª—è "${item.name}" —Å–±—Ä–æ—à–µ–Ω–∞ –¥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π`, 'info');
        }

        function getItemPrice(itemId) {
            if (customPrices[itemId] !== undefined) {
                return customPrices[itemId];
            }
            
            const [category, index] = itemId.split('_');
            return itemsDatabase[category][parseInt(index)].price;
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#4CAF50' : type === 'error' ? '#f44336' : type === 'warning' ? '#FF9800' : '#2196F3'};
                color: white;
                padding: 15px 20px;
                border-radius: 5px;
                z-index: 10000;
                box-shadow: 0 4px 6px rgba(0,0,0,0.1);
                max-width: 300px;
                word-wrap: break-word;
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentNode) {
                    document.body.removeChild(notification);
                }
            }, 3000);
        }

        function loadCategory(category) {
            const container = document.getElementById('itemsContainer');
            container.innerHTML = '';

            let items = itemsDatabase[category];
            
            currentFilteredItems = [];
            
            if (currentSearch) {
                items = items.filter((item, index) => {
                    const matches = item.name.toLowerCase().includes(currentSearch);
                    if (matches) {
                        currentFilteredItems.push({item, originalIndex: index});
                    }
                    return matches;
                });
            } else {
                items.forEach((item, index) => {
                    currentFilteredItems.push({item, originalIndex: index});
                });
            }

            currentFilteredItems.forEach((filteredItem, displayIndex) => {
                const {item, originalIndex} = filteredItem;
                const itemId = `${category}_${originalIndex}`;
                const quantity = selectedItems[itemId] || 0;
                const isLocked = lockedItems[itemId];
                const itemPrice = getItemPrice(itemId);
                
                const itemElement = document.createElement('div');
                itemElement.className = `item-card ${quantity > 0 ? 'selected' : ''} ${currentSearch && item.name.toLowerCase().includes(currentSearch) ? 'search-match' : ''} ${isLocked ? 'locked' : ''}`;
                itemElement.setAttribute('data-item', itemId);
                
                let lockButton = '';
                let priceEditButton = '';
                
                if (editMode) {
                    lockButton = `<button class="quantity-btn" onclick="toggleItemLock('${itemId}')" style="margin-top: 5px; width: 100%; background: ${isLocked ? '#5a2a2a' : '#2a5a2a'}; border-color: ${isLocked ? '#7a3a3a' : '#3a7a3a'}; color: ${isLocked ? '#ff6b6b' : '#6bff6b'};">${isLocked ? 'üîì –†–∞–∑–±–ª–æ–∫.' : 'üîí –ë–ª–æ–∫.'}</button>`;
                    priceEditButton = `<button class="quantity-btn" onclick="editItemPrice('${itemId}')" style="margin-top: 5px; width: 100%; background: #2a4a5a; border-color: #3a6a7a; color: #a0d0ff;">‚úèÔ∏è –¶–µ–Ω–∞</button>`;
                }
                
                if (isLocked) {
                    itemElement.innerHTML = `<div class="lock-indicator">üîí</div>`;
                }
                
                itemElement.innerHTML += `
                    <div class="item-image">
                        <img src="${item.image}" alt="${item.name}" 
                             onerror="handleImageError(this)">
                    </div>
                    <div class="item-name">${item.name}</div>
                    <div class="item-price">${formatPrice(itemPrice)} —Ä—É–±.</div>
                    <div class="quantity-controls">
                        <button class="quantity-btn" onclick="changeQuantity('${itemId}', -1)" ${isLocked ? 'disabled style="opacity: 0.5;"' : ''}>-</button>
                        <input type="number" class="quantity-input" value="${quantity}" min="0" max="200"
                               onchange="setQuantity('${itemId}', this.value)" 
                               oninput="validateNumber(this)" ${isLocked ? 'disabled style="background: #5a2a2a; color: #ff6b6b;"' : ''}>
                        <button class="quantity-btn" onclick="changeQuantity('${itemId}', 1)" ${isLocked ? 'disabled style="opacity: 0.5;"' : ''}>+</button>
                    </div>
                    ${lockButton}
                    ${priceEditButton}
                `;
                
                itemElement.addEventListener('click', function(e) {
                    if (!e.target.classList.contains('quantity-btn') && !e.target.classList.contains('quantity-input')) {
                        showItemDetails(itemId, item);
                    }
                });
                
                container.appendChild(itemElement);
            });
            
            if (currentSearch && currentFilteredItems.length === 0) {
                container.innerHTML = `<div style="text-align: center; color: var(--text-secondary); padding: 40px; grid-column: 1 / -1;">–ù–µ –Ω–∞–π–¥–µ–Ω–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É "${currentSearch}"</div>`;
            }
        }

        function handleImageError(img) {
            img.style.display = 'none';
            img.parentNode.innerHTML = '<div style="color: #666; text-align: center; padding: 10px; font-size: 0.8em;">üì¶<br>–ù–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</div>';
        }

        function showItemDetails(itemId, item) {
            currentDetailItem = itemId;
            const quantity = selectedItems[itemId] || 0;
            const itemPrice = getItemPrice(itemId);
            const total = itemPrice * quantity;
            
            document.getElementById('detailName').textContent = item.name;
            document.getElementById('detailPrice').textContent = `–¶–µ–Ω–∞: ${formatPrice(itemPrice)} —Ä—É–±.`;
            document.getElementById('detailTotal').textContent = `–°—É–º–º–∞: ${formatPrice(total)} —Ä—É–±.`;
            
            const detailImage = document.getElementById('detailImage');
            detailImage.innerHTML = `<img src="${item.image}" alt="${item.name}" 
                onerror="handleDetailImageError(this)">`;
                
            if (editMode) {
                const isLocked = lockedItems[itemId];
                const editButtons = `
                    <div style="margin-top: 10px; display: flex; gap: 5px;">
                        <button class="quantity-btn" onclick="toggleItemLock('${itemId}')" style="flex: 1; background: ${isLocked ? '#5a2a2a' : '#2a5a2a'}; border-color: ${isLocked ? '#7a3a3a' : '#3a7a3a'}; color: ${isLocked ? '#ff6b6b' : '#6bff6b'};">${isLocked ? 'üîì –†–∞–∑–±–ª–æ–∫.' : 'üîí –ë–ª–æ–∫.'}</button>
                        <button class="quantity-btn" onclick="editItemPrice('${itemId}')" style="flex: 1; background: #2a4a5a; border-color: #3a6a7a; color: #a0d0ff;">‚úèÔ∏è –¶–µ–Ω–∞</button>
                        ${customPrices[itemId] ? `<button class="quantity-btn" onclick="resetItemPrice('${itemId}')" style="flex: 1; background: #5a4a2a; border-color: #7a6a3a; color: #ffd06b;">üóëÔ∏è –°–±—Ä–æ—Å —Ü–µ–Ω—ã</button>` : ''}
                    </div>
                `;
                detailImage.insertAdjacentHTML('afterend', editButtons);
            }
        }

        function handleDetailImageError(img) {
            img.style.display = 'none';
            detailImage.innerHTML = '<div style="color: #666; text-align: center; padding: 20px; font-size: 0.8em;">üì¶<br>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ<br>–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ</div>';
        }

        function changeQuantity(itemId, delta) {
            if (lockedItems[itemId]) {
                showNotification('–≠—Ç–æ—Ç –ø—Ä–µ–¥–º–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω', 'error');
                return;
            }
            
            const currentQuantity = selectedItems[itemId] || 0;
            const newQuantity = Math.max(0, Math.min(200, currentQuantity + delta));
            setQuantity(itemId, newQuantity);
        }

        function setQuantity(itemId, quantity) {
            if (lockedItems[itemId]) {
                showNotification('–≠—Ç–æ—Ç –ø—Ä–µ–¥–º–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω', 'error');
                return;
            }
            
            quantity = parseInt(quantity) || 0;
            quantity = Math.min(200, Math.max(0, quantity));
            selectedItems[itemId] = quantity;
            
            updateItemDisplay(itemId, quantity);
            updateTotal();
            updateSelectedCount();
            updateSelectedItemsList();
            
            if (currentDetailItem === itemId) {
                const [category, index] = itemId.split('_');
                const item = itemsDatabase[category][parseInt(index)];
                showItemDetails(itemId, item);
            }
        }

        function validateNumber(input) {
            let value = input.value.replace(/[^0-9]/g, '');
            if (value === '') value = '0';
            value = Math.min(200, parseInt(value) || 0);
            input.value = value;
        }

        function updateItemDisplay(itemId, quantity) {
            const itemElement = document.querySelector(`[data-item="${itemId}"]`);
            if (!itemElement) return;
            
            const input = itemElement.querySelector('.quantity-input');
            input.value = quantity;
            
            if (quantity > 0) {
                itemElement.classList.add('selected');
            } else {
                itemElement.classList.remove('selected');
            }
        }

        function updateTotal() {
            let total = 0;
            
            for (const [itemId, quantity] of Object.entries(selectedItems)) {
                if (quantity > 0) {
                    const itemPrice = getItemPrice(itemId);
                    total += itemPrice * quantity;
                }
            }
            
            if (bonusApplied) {
                const bonusTotal = total * 1.15;
                document.getElementById('totalSum').textContent = formatPrice(total);
                document.getElementById('bonusSum').textContent = `+15%: ${formatPrice(bonusTotal)}`;
                document.getElementById('bonusSum').style.display = 'block';
                document.getElementById('saleSum').style.display = 'none';
            } else if (saleApplied) {
                const saleTotal = total * 1.30;
                document.getElementById('totalSum').textContent = formatPrice(total);
                document.getElementById('saleSum').textContent = `+30%: ${formatPrice(saleTotal)}`;
                document.getElementById('saleSum').style.display = 'block';
                document.getElementById('bonusSum').style.display = 'none';
            } else {
                document.getElementById('totalSum').textContent = formatPrice(total);
                document.getElementById('bonusSum').style.display = 'none';
                document.getElementById('saleSum').style.display = 'none';
            }
        }

        function updateSelectedCount() {
            let count = 0;
            for (const quantity of Object.values(selectedItems)) {
                if (quantity > 0) count++;
            }
            document.getElementById('selectedCount').textContent = `–í—ã–±—Ä–∞–Ω–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤: ${count}`;
        }

        function updateSelectedItemsList() {
            const container = document.getElementById('selectedItemsList');
            
            let hasItems = false;
            let itemsHTML = '';
            
            for (const [itemId, quantity] of Object.entries(selectedItems)) {
                if (quantity > 0) {
                    hasItems = true;
                    const [category, index] = itemId.split('_');
                    const item = itemsDatabase[category][parseInt(index)];
                    const itemPrice = getItemPrice(itemId);
                    const total = itemPrice * quantity;
                    
                    itemsHTML += `
                        <div class="selected-item" data-item="${itemId}">
                            <div class="selected-item-info">
                                <div class="selected-item-name">${item.name}</div>
                                <div class="selected-item-price">${formatPrice(itemPrice)} —Ä—É–±. √ó</div>
                            </div>
                            <div class="selected-item-quantity">
                                <button class="quantity-btn" onclick="changeQuantity('${itemId}', -1)">-</button>
                                <span class="selected-item-qty">${quantity}</span>
                                <button class="quantity-btn" onclick="changeQuantity('${itemId}', 1)">+</button>
                                <button class="remove-item-btn" onclick="setQuantity('${itemId}', 0)" title="–£–¥–∞–ª–∏—Ç—å">√ó</button>
                            </div>
                            <div class="selected-item-total">${formatPrice(total)}</div>
                        </div>
                    `;
                }
            }
            
            if (hasItems) {
                container.innerHTML = itemsHTML;
            } else {
                container.innerHTML = '<div class="empty-selected">–ù–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤</div>';
            }
        }

        function formatPrice(price) {
            return new Intl.NumberFormat('ru-RU', {
                minimumFractionDigits: 1,
                maximumFractionDigits: 1
            }).format(price);
        }

        function calculateTotal() {
            let total = 0;
            for (const [itemId, quantity] of Object.entries(selectedItems)) {
                if (quantity > 0) {
                    const itemPrice = getItemPrice(itemId);
                    total += itemPrice * quantity;
                }
            }
            return total;
        }

        function resetAll() {
            const currentTotal = calculateTotal();
            
            selectedItems = {};
            bonusApplied = false;
            saleApplied = false;
            currentSearch = '';
            document.getElementById('searchInput').value = '';
            loadCategory(currentCategory);
            updateTotal();
            updateSelectedCount();
            updateSelectedItemsList();
            
            document.getElementById('detailName').textContent = '-';
            document.getElementById('detailPrice').textContent = '–¶–µ–Ω–∞: -';
            document.getElementById('detailTotal').textContent = '–°—É–º–º–∞: -';
            document.getElementById('detailImage').innerHTML = '<div style="color: #666; text-align: center; font-size: 0.9em;">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥–º–µ—Ç</div>';
            
            document.querySelectorAll('.category-tab').forEach(tab => {
                tab.classList.remove('highlighted');
            });
            
            playResetSound(currentTotal);
        }
        
        function playResetSound(total) {
            const audio = new Audio();
            
            audio.volume = 0.1;
            
            if (total < 1000) {
                audio.src = 'sounds/low_money.mp3';
            } else if (total > 50000) {
                audio.src = 'sounds/high_money.mp3';
            } else {
                return;
            }
            
            audio.play().catch(error => {
                console.log('–ù–µ —É–¥–∞–ª–æ—Å—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∑–≤—É–∫:', error);
            });
        }

        function addBonus() {
            bonusApplied = !bonusApplied;
            saleApplied = false;
            updateTotal();
        }

        function addSale() {
            saleApplied = !saleApplied;
            bonusApplied = false;
            updateTotal();
        }

        function downloadList() {
            let hasItems = false;
            let fileContent = "–°–ü–ò–°–û–ö –ü–†–ï–î–ú–ï–¢–û–í –î–õ–Ø –°–ö–£–ü–ö–ò –ú–ó\n";
            fileContent += "================================\n";
            fileContent += `–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ: ${new Date().toLocaleString('ru-RU')}\n`;
            fileContent += "================================\n\n";
            
            const categories = {
                scrap: "–•–õ–ê–ú",
                garbage: "–ú–£–°–û–†", 
                medicine: "–ò–ù–ì–†–ò–î–ò–ï–ù–¢–´",
                mutants: "–ú–£–¢–ê–ù–¢–´",
                documents: "–î–û–ö–£–ú–ï–ù–¢–´",
                artifacts: "–ê–†–¢–ï–§–ê–ö–¢–´"
            };
            
            let totalItems = 0;
            let totalValue = 0;
            
            for (const categoryKey in categories) {
                let categoryHasItems = false;
                let categoryContent = "";
                let categoryTotal = 0;
                let categoryCount = 0;
                
                for (const [itemId, quantity] of Object.entries(selectedItems)) {
                    if (quantity > 0 && itemId.startsWith(categoryKey + '_')) {
                        const [category, index] = itemId.split('_');
                        const item = itemsDatabase[category][parseInt(index)];
                        const itemPrice = getItemPrice(itemId);
                        
                        categoryContent += `  ${item.name} - ${quantity} —à—Ç.\n`;
                        categoryTotal += itemPrice * quantity;
                        categoryCount += quantity;
                        totalItems += quantity;
                        totalValue += itemPrice * quantity;
                        categoryHasItems = true;
                        hasItems = true;
                    }
                }
                
                if (categoryHasItems) {
                    fileContent += `${categories[categoryKey]}:\n`;
                    fileContent += categoryContent;
                    fileContent += `  –ò—Ç–æ–≥–æ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: ${categoryCount} —à—Ç. / ${formatPrice(categoryTotal)} —Ä—É–±.\n\n`;
                }
            }
            
            if (!hasItems) {
                fileContent += "–ù–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤.\n";
            } else {
                fileContent += "================================\n";
                fileContent += `–û–ë–©–ò–ô –ò–¢–û–ì: ${totalItems} –ø—Ä–µ–¥–º–µ—Ç–æ–≤\n`;
                fileContent += `–°–£–ú–ú–ê: ${formatPrice(totalValue)} —Ä—É–±.\n`;
                
                if (bonusApplied) {
                    const bonusTotal = totalValue * 1.15;
                    fileContent += `–° –ë–û–ù–£–°–û–ú 15%: ${formatPrice(bonusTotal)} —Ä—É–±.\n`;
                } else if (saleApplied) {
                    const saleTotal = totalValue * 1.30;
                    fileContent += `–° –ü–†–û–î–ê–ñ–ï–ô 30%: ${formatPrice(saleTotal)} —Ä—É–±.\n`;
                }
                
                fileContent += "================================\n";
            }
            
            fileContent += "\n–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–æ–º —Å–∫—É–ø–∫–∏ –ú–ó";
            
            const blob = new Blob([fileContent], { type: 'text/plain; charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            
            const now = new Date();
            const dateString = now.toLocaleDateString('ru-RU').replace(/\./g, '-');
            const timeString = now.toLocaleTimeString('ru-RU').replace(/:/g, '-');
            
            a.href = url;
            a.download = `–ú–ó_–∑–∞–∫–∞–∑_${dateString}_${timeString}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showDownloadFeedback();
        }

        function showDownloadFeedback() {
            const btn = document.querySelector('.control-btn.download');
            const originalText = btn.innerHTML;
            
            btn.innerHTML = '‚úÖ –°–∫–∞—á–∞–Ω–æ!';
            btn.style.background = '#2a5a2a';
            btn.style.borderColor = '#3a7a3a';
            
            setTimeout(() => {
                btn.innerHTML = originalText;
                btn.style.background = '';
                btn.style.borderColor = '';
            }, 2000);
        }

        function showSpecialMessage() {
            const overlay = document.createElement('div');
            overlay.className = 'overlay';
            
            const message = document.createElement('div');
            message.className = 'special-message';
            message.innerHTML = `
                <h2>–≠—Ç–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å —ç—Ç–æ–≥–æ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞.</h2>
                <p>–ú–æ–ª–æ–¥–µ—Ü, —Ç—ã –∑–Ω–∞–µ—à—å –∫—Ç–æ —ç—Ç–æ —Å–¥–µ–ª–∞–ª.</p>
                <p class="ps">P.s. –ê –∑–∞—á–µ–º —Ç—ã –≤–æ–æ–±—â–µ –Ω–∞–ø–∏—Å–∞–ª –º–æ–π –ø–æ–∑—ã–≤–Ω–æ–π?</p>
                <button class="close-message">–ó–∞–∫—Ä—ã—Ç—å</button>
            `;
            
            document.body.appendChild(overlay);
            document.body.appendChild(message);
            
            document.querySelector('.close-message').addEventListener('click', function() {
                document.body.removeChild(overlay);
                document.body.removeChild(message);
                document.getElementById('searchInput').value = '';
                currentSearch = '';
                loadCategory(currentCategory);
            });
        }

        function switchCategory(category) {
            currentCategory = category;
            
            document.querySelectorAll('.category-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`[data-category="${category}"]`).classList.add('active');
            
            loadCategory(category);
        }

        function toggleItemsSidebar() {
            const sidebar = document.getElementById('itemsSidebar');
            const appContainer = document.getElementById('appContainer');
            isSidebarOpen = !isSidebarOpen;
            
            if (isSidebarOpen) {
                sidebar.classList.add('open');
                appContainer.classList.add('sidebar-open');
                updateSelectedItemsList();
            } else {
                sidebar.classList.remove('open');
                appContainer.classList.remove('sidebar-open');
            }
        }

        function initializePages() {
            switchPage('calculator');
            createStorageGrid();
            updateLoansTable();
            updateStorageTable();
        }

        function switchPage(pageName) {
            document.querySelectorAll('.app-page').forEach(page => {
                page.classList.remove('active');
            });
            
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById(pageName + 'Page').classList.add('active');
            
            document.querySelector(`[data-page="${pageName}"]`).classList.add('active');
        }

        function calculateCredit() {
            const playerName = document.getElementById('creditPlayerName').value;
            const uid = document.getElementById('creditUID').value;
            const amount = parseFloat(document.getElementById('creditAmount').value);
            const days = parseInt(document.getElementById('creditDays').value);
            
            if (!playerName || !uid || !amount || !days) {
                alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!');
                return;
            }
            
            let total = amount;
            let breakdown = [];
            
            for (let day = 1; day <= days; day++) {
                let dailyRate;
                if (day <= 5) {
                    dailyRate = 0.08;
                } else if (day <= 10) {
                    dailyRate = 0.04;
                } else {
                    dailyRate = 0.02;
                }
                
                const dailyIncrease = total * dailyRate;
                total += dailyIncrease;
                
                breakdown.push({
                    day: day,
                    rate: (dailyRate * 100) + '%',
                    increase: dailyIncrease,
                    total: total
                });
            }
            
            currentCreditCalculation = {
                playerName,
                uid,
                amount,
                days,
                total: total,
                breakdown
            };
            
            document.getElementById('creditResult').style.display = 'block';
            document.getElementById('creditTotal').textContent = formatPrice(total) + ' —Ä—É–±.';
            
            let breakdownHTML = '<div style="margin-top: 10px; font-size: 0.9em; color: var(--text-secondary);">';
            breakdownHTML += `<div>–ù–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞: ${formatPrice(amount)} —Ä—É–±.</div>`;
            breakdownHTML += `<div>–ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞: ${formatPrice(total)} —Ä—É–±.</div>`;
            breakdownHTML += `<div>–ü–µ—Ä–µ–ø–ª–∞—Ç–∞: ${formatPrice(total - amount)} —Ä—É–±.</div>`;
            breakdownHTML += '</div>';
            
            document.getElementById('creditBreakdown').innerHTML = breakdownHTML;
        }

        async function createLoan() {
            if (!currentCreditCalculation) {
                alert('–°–Ω–∞—á–∞–ª–∞ —Ä–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ –∫—Ä–µ–¥–∏—Ç!');
                return;
            }
            
            const loan = {
                id: Date.now(),
                ...currentCreditCalculation,
                startDate: new Date().toLocaleDateString('ru-RU'),
            };
            
            loans.push(loan);
            await saveData();
            updateLoansTable();
            
            document.getElementById('creditPlayerName').value = '';
            document.getElementById('creditUID').value = '';
            document.getElementById('creditAmount').value = '';
            document.getElementById('creditDays').value = '';
            document.getElementById('creditResult').style.display = 'none';
            currentCreditCalculation = null;
            
            alert('–ö—Ä–µ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω!');
        }

        function updateLoansTable() {
            const tbody = document.getElementById('loansTableBody');
            tbody.innerHTML = '';
            
            loans.forEach(loan => {
                const currentDebt = calculateCurrentDebt(loan);
                const row = document.createElement('tr');
                
                row.innerHTML = `
                    <td>${loan.playerName}</td>
                    <td>${loan.uid}</td>
                    <td>${formatPrice(loan.amount)} —Ä—É–±.</td>
                    <td>${loan.days} –¥–Ω–µ–π</td>
                    <td>${loan.startDate}</td>
                    <td>${formatPrice(currentDebt)} —Ä—É–±.</td>
                    <td>
                        <button class="delete-btn" onclick="deleteLoan(${loan.id})">–£–¥–∞–ª–∏—Ç—å</button>
                    </td>
                `;
                
                tbody.appendChild(row);
            });
        }

        function calculateCurrentDebt(loan) {
            return loan.total;
        }

        async function deleteLoan(loanId) {
            loans = loans.filter(loan => loan.id !== loanId);
            await saveData();
            updateLoansTable();
        }

        function switchSafe(safeNumber) {
            currentSafe = safeNumber;
            
            document.querySelectorAll('.safe-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-safe="${safeNumber}"]`).classList.add('active');
            
            document.getElementById('currentSafeName').textContent = `–°–µ–π—Ñ ${safeNumber}`;
            
            clearSelection();
            createStorageGrid();
        }

        function createStorageGrid() {
            const grid = document.getElementById('storageGrid');
            grid.innerHTML = '';
            
            for (let row = 0; row < 18; row++) {
                for (let col = 0; col < 9; col++) {
                    const cell = document.createElement('div');
                    cell.className = 'storage-cell';
                    cell.dataset.id = `${currentSafe}-${row}-${col}`;
                    cell.addEventListener('click', () => toggleCellSelection(cell));
                    
                    const isOccupied = storageRentals.some(rental => 
                        rental.safe === currentSafe && rental.cells.includes(`${row}-${col}`)
                    );
                    
                    if (isOccupied) {
                        cell.classList.add('occupied');
                        const rental = storageRentals.find(r => r.safe === currentSafe && r.cells.includes(`${row}-${col}`));
                        cell.innerHTML = `<div class="cell-info">${rental.uid.substring(0, 5)}</div>`;
                    }
                    
                    grid.appendChild(cell);
                }
            }
        }

        function createEditStorageGrid() {
            const grid = document.getElementById('editStorageGrid');
            grid.innerHTML = '';
            
            const editingRental = storageRentals.find(r => r.id === editingStorageId);
            const editSafe = editingRental ? editingRental.safe : currentSafe;
            
            for (let row = 0; row < 18; row++) {
                for (let col = 0; col < 9; col++) {
                    const cell = document.createElement('div');
                    cell.className = 'storage-cell';
                    cell.dataset.id = `${editSafe}-${row}-${col}`;
                    cell.addEventListener('click', () => toggleCellSelectionEdit(cell));
                    
                    const isOccupied = storageRentals.some(rental => 
                        rental.id !== editingStorageId && rental.safe === editSafe && rental.cells.includes(`${row}-${col}`)
                    );
                    
                    if (isOccupied) {
                        cell.classList.add('occupied');
                        const rental = storageRentals.find(r => r.safe === editSafe && r.cells.includes(`${row}-${col}`));
                        cell.innerHTML = `<div class="cell-info">${rental.uid.substring(0, 5)}</div>`;
                    } else if (selectedCellsEdit.has(`${row}-${col}`)) {
                        cell.classList.add('selected');
                    }
                    
                    grid.appendChild(cell);
                }
            }
        }

        function toggleCellSelection(cell) {
            if (cell.classList.contains('occupied')) {
                return;
            }
            
            const cellId = cell.dataset.id;
            
            if (selectedCells.has(cellId)) {
                selectedCells.delete(cellId);
                cell.classList.remove('selected');
            } else {
                selectedCells.add(cellId);
                cell.classList.add('selected');
            }
            
            document.getElementById('storageCellsCount').value = selectedCells.size;
        }

        function toggleCellSelectionEdit(cell) {
            if (cell.classList.contains('occupied')) {
                return;
            }
            
            const cellId = cell.dataset.id;
            
            if (selectedCellsEdit.has(cellId)) {
                selectedCellsEdit.delete(cellId);
                cell.classList.remove('selected');
            } else {
                selectedCellsEdit.add(cellId);
                cell.classList.add('selected');
            }
            
            document.getElementById('editStorageCellsCount').value = selectedCellsEdit.size;
        }

        function selectAllCells() {
            selectedCells.clear();
            document.querySelectorAll('#storageGrid .storage-cell').forEach(cell => {
                if (!cell.classList.contains('occupied')) {
                    const cellId = cell.dataset.id;
                    selectedCells.add(cellId);
                    cell.classList.add('selected');
                }
            });
            document.getElementById('storageCellsCount').value = selectedCells.size;
        }

        function selectAllCellsEdit() {
            selectedCellsEdit.clear();
            document.querySelectorAll('#editStorageGrid .storage-cell').forEach(cell => {
                if (!cell.classList.contains('occupied')) {
                    const cellId = cell.dataset.id;
                    selectedCellsEdit.add(cellId);
                    cell.classList.add('selected');
                }
            });
            document.getElementById('editStorageCellsCount').value = selectedCellsEdit.size;
        }

        function clearSelection() {
            selectedCells.clear();
            document.querySelectorAll('#storageGrid .storage-cell').forEach(cell => {
                cell.classList.remove('selected');
            });
            document.getElementById('storageCellsCount').value = 0;
        }

        function clearSelectionEdit() {
            selectedCellsEdit.clear();
            document.querySelectorAll('#editStorageGrid .storage-cell').forEach(cell => {
                cell.classList.remove('selected');
            });
            document.getElementById('editStorageCellsCount').value = 0;
        }

        function calculateStorage() {
            const playerName = document.getElementById('storagePlayerName').value;
            const uid = document.getElementById('storageUID').value;
            const days = parseInt(document.getElementById('storageDays').value);
            const cellsCount = selectedCells.size;
            
            if (!playerName || !uid || !days || cellsCount === 0) {
                alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —è—á–µ–π–∫–∏!');
                return;
            }
            
            let pricePerCell;
            if (days <= 5) {
                pricePerCell = 750;
            } else if (days <= 10) {
                pricePerCell = 900;
            } else if (days <= 20) {
                pricePerCell = 1000;
            } else {
                pricePerCell = 1200;
            }
            
            const totalCost = cellsCount * pricePerCell;
            
            currentStorageCalculation = {
                playerName,
                uid,
                days,
                safe: currentSafe,
                cells: Array.from(selectedCells).map(cell => cell.split('-').slice(1).join('-')),
                cellsCount,
                pricePerCell,
                totalCost
            };
            
            document.getElementById('storageResult').style.display = 'block';
            document.getElementById('storageTotal').textContent = formatPrice(totalCost) + ' —Ä—É–±.';
            
            let breakdownHTML = `
                <div style="margin-top: 10px; font-size: 0.9em; color: var(--text-secondary);">
                    <div>–°–µ–π—Ñ: ${currentSafe}</div>
                    <div>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —è—á–µ–µ–∫: ${cellsCount}</div>
                    <div>–¶–µ–Ω–∞ –∑–∞ —è—á–µ–π–∫—É: ${formatPrice(pricePerCell)} —Ä—É–±.</div>
                    <div>–°—Ä–æ–∫: ${days} –¥–Ω–µ–π</div>
                    <div>–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: ${formatPrice(totalCost)} —Ä—É–±.</div>
                </div>
            `;
            
            document.getElementById('storageBreakdown').innerHTML = breakdownHTML;
        }

        async function createStorageRental() {
            if (!currentStorageCalculation) {
                alert('–°–Ω–∞—á–∞–ª–∞ —Ä–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ —Å—Ç–æ–∏–º–æ—Å—Ç—å!');
                return;
            }
            
            const rental = {
                id: Date.now(),
                ...currentStorageCalculation,
                startDate: new Date().toLocaleDateString('ru-RU'),
                color: getRandomColor()
            };
            
            storageRentals.push(rental);
            await saveData();
            updateStorageTable();
            createStorageGrid();
            
            document.getElementById('storagePlayerName').value = '';
            document.getElementById('storageUID').value = '';
            document.getElementById('storageDays').value = '';
            document.getElementById('storageResult').style.display = 'none';
            clearSelection();
            currentStorageCalculation = null;
            
            alert('–ê—Ä–µ–Ω–¥–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∞!');
        }

        function editStorageRental(rentalId) {
            const rental = storageRentals.find(r => r.id === rentalId);
            if (!rental) return;
            
            editingStorageId = rentalId;
            
            document.getElementById('editStoragePlayerName').value = rental.playerName;
            document.getElementById('editStorageUID').value = rental.uid;
            document.getElementById('editStorageDays').value = rental.days;
            
            selectedCellsEdit = new Set(rental.cells.map(cell => `${rental.safe}-${cell}`));
            document.getElementById('editStorageCellsCount').value = selectedCellsEdit.size;
            
            createEditStorageGrid();
            
            document.getElementById('editStorageSection').style.display = 'block';
            
            document.getElementById('editStorageSection').scrollIntoView({ behavior: 'smooth' });
        }

        async function updateStorageRental() {
            if (!editingStorageId) return;
            
            const rentalIndex = storageRentals.findIndex(r => r.id === editingStorageId);
            if (rentalIndex === -1) return;
            
            const playerName = document.getElementById('editStoragePlayerName').value;
            const uid = document.getElementById('editStorageUID').value;
            const days = parseInt(document.getElementById('editStorageDays').value);
            const cellsCount = selectedCellsEdit.size;
            
            if (!playerName || !uid || !days || cellsCount === 0) {
                alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —è—á–µ–π–∫–∏!');
                return;
            }
            
            let pricePerCell;
            if (days <= 5) {
                pricePerCell = 750;
            } else if (days <= 10) {
                pricePerCell = 900;
            } else if (days <= 20) {
                pricePerCell = 1000;
            } else {
                pricePerCell = 1200;
            }
            
            const totalCost = cellsCount * pricePerCell;
            
            storageRentals[rentalIndex] = {
                ...storageRentals[rentalIndex],
                playerName,
                uid,
                days,
                cells: Array.from(selectedCellsEdit).map(cell => cell.split('-').slice(1).join('-')),
                cellsCount,
                pricePerCell,
                totalCost
            };
            
            await saveData();
            updateStorageTable();
            createStorageGrid();
            cancelEditStorage();
            
            alert('–ê—Ä–µ–Ω–¥–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∞!');
        }

        function cancelEditStorage() {
            editingStorageId = null;
            selectedCellsEdit.clear();
            document.getElementById('editStorageSection').style.display = 'none';
        }

        function updateStorageTable() {
            const tbody = document.getElementById('storageTableBody');
            tbody.innerHTML = '';
            
            storageRentals.forEach(rental => {
                const row = document.createElement('tr');
                
                row.innerHTML = `
                    <td>${rental.playerName}</td>
                    <td>${rental.uid}</td>
                    <td>${rental.days} –¥–Ω–µ–π</td>
                    <td>–°–µ–π—Ñ ${rental.safe} - ${rental.cellsCount} —è—á–µ–µ–∫</td>
                    <td>${formatPrice(rental.totalCost)} —Ä—É–±.</td>
                    <td>${rental.startDate}</td>
                    <td>
                        <button class="edit-storage-btn" onclick="editStorageRental(${rental.id})">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                        <button class="delete-btn" onclick="deleteStorageRental(${rental.id})">–£–¥–∞–ª–∏—Ç—å</button>
                    </td>
                `;
                
                tbody.appendChild(row);
            });
        }

        async function deleteStorageRental(rentalId) {
            storageRentals = storageRentals.filter(rental => rental.id !== rentalId);
            await saveData();
            updateStorageTable();
            createStorageGrid();
            
            if (editingStorageId === rentalId) {
                cancelEditStorage();
            }
        }

        function getRandomColor() {
            const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7', '#DDA0DD', '#98D8C8', '#F7DC6F', '#BB8FCE'];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        async function resetAllPrices() {
            if (!editMode || !confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –í–°–ï –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ü–µ–Ω—ã?')) return;
            
            customPrices = {};
            await saveData();
            loadCategory(currentCategory);
            showNotification('–í—Å–µ —Ü–µ–Ω—ã —Å–±—Ä–æ—à–µ–Ω—ã –¥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö', 'success');
        }

        async function unlockAllItems() {
            if (!editMode || !confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –í–°–ï –ø—Ä–µ–¥–º–µ—Ç—ã?')) return;
            
            lockedItems = {};
            await saveData();
            loadCategory(currentCategory);
            showNotification('–í—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã', 'success');
        }
    </script>
</body>
</html>